<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>明亮眼镜店</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background: linear-gradient(to bottom, #ffffff, #f8fafc);
            color: #1a202c;
            /* 禁止文本选择 */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        header {
            background-color: transparent;
            color: inherit;
            text-align: left;
            padding: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: linear-gradient(to bottom, #ffffff, #fafbfc);
        }
        
        .gallery {
            margin-top: 3rem;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            height: 250px;
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        
        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.5rem;
            text-align: center;
        }
        
        /* 新增导航栏样式 */
        .nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px) saturate(180%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            z-index: 9998;
            border-bottom: 1px solid rgba(37, 99, 235, 0.08);
        }
        
        .nav-container {
            max-width: 1300px;
            margin: 0 auto;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding: 0 4rem 0 2rem;
        }
        
        .logo {
            display: flex;
            flex-direction: column;  /* 改为纵向排列 */
            align-items: flex-start;  /* 左对齐 */
            margin-right: 2rem;
            padding: 1rem 0;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            margin: 0 0 0.3rem 0;  /* 添加底部间距 */
            background: linear-gradient(135deg, #1a365d, #2563eb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
            letter-spacing: -0.5px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            white-space: nowrap;
        }
        
        .logo p {
            margin: 0;
            color: #4b5563;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
            margin: 0;
            padding-left: 0;
            position: relative;
            z-index: 2;
            margin-left: 5rem;  /* 从3rem改为5rem，使导航链接更靠右 */
        }
        
        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            padding: 0.5rem 0.8rem;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .nav-links a:hover {
            color: #2563eb;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 4px;
        }
        
        /* 更新导航栏右侧布局 */
        .nav-icons {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-left: auto;
            padding-right: 0;
            margin-right: 15px;
            position: relative;
            left: 55px;
        }
        
        .nav-icons a {
            display: inline-flex;  /* 改为inline-flex */
            align-items: center;
            padding: 8px 15px;
            margin: 0 5px;
            border-radius: 20px;
            transition: all 0.3s ease;
            white-space: nowrap;  /* 防止文字换行 */
        }
        
        .nav-icons a:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        
        /* 搜索框容器样式 */
        .search-container {
            position: relative;
            margin-right: 15px;
            margin-left: auto;
            left: -40px;
        }
        
        .search-input {
            width: 30px;
            height: 35px;
            padding: 8px;
            border-radius: 20px;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            background: #f9fafb;
            color: #666;
            /* 允许输入框和文本框可选择 */
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        .search-input::placeholder {
            color: #9ca3af;
            opacity: 0.6;
        }
        
        .search-input:not(:focus)::placeholder {
            color: #9ca3af;
            opacity: 0.4;
        }
        
        .search-input:focus {
            width: 150px;
            padding: 8px 12px;
            outline: none;
            border-color: #2563eb;
        }
        
        /* 注册和账户按钮样式 */
        .register-link, .account-dropdown {
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            margin-right: 5px;
            position: relative;
            left: -15px;  /* 向左移动 */
            display: inline-flex;
            align-items: center;
            white-space: nowrap;
        }
        
        .register-link:hover, .account-dropdown:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        
        /* 更新头部样式 */
        .hero {
            background-color: #f8f9fa;
            padding: 4rem 0;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #333;
        }
        
        /* 更�����品卡片样式 */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .product-info {
            padding: 1.5rem;
        }
        
        .product-info h3 {
            margin: 0 0 0.5rem;
            color: #333;
        }
        
        .product-price {
            color: #0066cc;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        /* 更新按钮样��������� */
        .btn {
            display: inline-block;
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(49, 130, 206, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(49, 130, 206, 0.3);
        }
        
        /* 更新轮播图容器样式 */
        .explore-slider {
            position: relative;
            width: 100%;
            height: 70vh;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            touch-action: pan-y pinch-zoom;
        }
        
        .explore-slides {
            display: flex;
            height: 100%;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }
        
        .explore-slide {
            position: relative;
            min-width: 100%;
            height: 100%;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .explore-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scale(1.1);
            transition: transform 0.5s ease;
            pointer-events: none;
            user-select: none;
        }
        
        .explore-slide.active img {
            transform: scale(1);
        }
        
        .slide-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 3rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            color: white;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .explore-slide.active .slide-content {
            transform: translateY(0);
            opacity: 1;
        }
        
        /* 滑动控制按钮 */
        .explore-nav {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 10;
        }
        
        .explore-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .explore-dot.active {
            background: white;
            transform: scale(1.2);
        }
        
        /* 左右箭头 */
        .explore-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            color: white;
            padding: 0;
        }
        
        .explore-arrow:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
        }
        
        .explore-arrow:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5);
        }
        
        .explore-prev {
            left: 20px;
        }
        
        .explore-next {
            right: 20px;
        }
        
        .explore-arrow svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }
        
        /* 触摸滑动支持 */
        @media (hover: none) {
            .explore-arrow {
                display: none;
            }
        }
        
        .product-category {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin: 4rem 0;
        }
        
        .category-item {
            position: relative;
            height: 60vh;
            overflow: hidden;
        }
        
        .category-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }
        
        .category-content {
            position: absolute;
            bottom: 10%;
            left: 10%;
            color: white;
        }
        
        .category-content h3 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 1rem;
        }
        
        .category-content .btn {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 1rem 3rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .category-content .btn:hover {
            background: white;
            color: black;
        }
        
        .promises {
            background: #f8f9fa;
            padding: 4rem 0;
        }
        
        .promise-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 3rem;
            padding: 2rem 0;
        }
        
        .promise-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border-radius: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .promise-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }
        
        .promise-item img {
            width: 80px;
            height: 80px;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        }
        
        .promise-item h3 {
            font-size: 1.2rem;
            color: #2c3e50;
            margin-bottom: 0.8rem;
        }
        
        .promise-item p {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* 更新联系信息样式 */
        .contact-section {
            background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
            padding: 3rem 0 0;
            margin-top: 4rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .contact-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 4rem;
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            padding: 0;
        }
        
        .contact-row {
            padding: 0;
            min-width: 200px;
            text-align: center;
        }
        
        .contact-row h3 {
            text-align: center;
            margin-left: 0;
            color: #1e293b;
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            letter-spacing: 0.5px;
        }
        
        .contact-row p {
            text-align: center;
            margin-left: 0;
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.8;
        }
        
        .copyright {
            position: relative;
            width: 100%;
            text-align: center;
            padding: 2.5rem 0;
            margin-top: 5rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            background: linear-gradient(to bottom, #f1f4f8, #edf2f7);
        }
        
        .copyright p {
            color: #718096;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
            line-height: 1.8;
        }
        
        .contact-item a {
            color: #666;
            text-decoration: none;
        }
        
        .contact-item a:hover {
            color: #0066cc;
        }
        
        /* 调整第四列（关注我们）的位置 */
        .contact-row:nth-child(4) {
            margin-left: -1rem;
        }
        
        /* 调整第三列（关于我们）的位置 */
        .contact-row:nth-child(3) {
            margin-left: 3rem;
        }
        
        /* 调整第一列和第二列的位置 */
        .contact-row:nth-child(1),
        .contact-row:nth-child(2) {
            margin-right: 2rem;
        }
        
        .contact-row a {
            color: #4a5568;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .contact-row a:hover {
            color: #2d3748;
        }
        
        .contact-row a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -2px;
            left: 0;
            background-color: #2d3748;
            transition: width 0.3s ease;
        }
        
        .contact-row a:hover::after {
            width: 100%;
        }
        
        /* 添加式 */
        .contact-row h3 {
            text-align: left;
            margin-left: 1rem;
        }
        
        .contact-row p {
            text-align: left;
            margin-left: 1rem;
        }
        
        /* 除之前的距调整 */
        .contact-row:nth-child(3),
        .contact-row:nth-child(4) {
            padding-left: 0;
        }
        
        /* 调整整体容器��� */
        .contact-section .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        /* 添加侧边悬浮栏样式 */
        .float-social {
            position: fixed;
            right: 20px;  /* 改为右侧固定 */
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 12px;
            z-index: 1000;
        }
        
        .float-social h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1rem;
            color: #333;
            text-align: center;
        }
        
        .social-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .social-links a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.3rem 0.8rem;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .social-links a:hover {
            color: #2563eb;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 4px;
        }
        
        /* 移除之前的边距调整 */
        .contact-row {
            padding: 0;
            min-width: 200px;
            text-align: center;
        }
        
        .contact-row h3 {
            text-align: center;
            margin-left: 0;
            color: #1e293b;
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            letter-spacing: 0.5px;
        }
        
        .contact-row p {
            text-align: center;
            margin-left: 0;
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.8;
        }
        
        /* 移除之前的位调整 */
        .contact-row:nth-child(1),
        .contact-row:nth-child(2),
        .contact-row:nth-child(3) {
            margin: 0;
        }
        
        /* 更新搜索相关样式 */
        .nav-icons {
            margin-left: auto;
            display: flex;
            gap: 2rem;  /* 增加间距 */
            align-items: center;
        }
        
        /* 更新搜索框样式为最小尺寸 */
        .search-container {
            position: relative;
            margin-right: 1.5rem;
        }
        
        .search-input {
            width: 30px;  /* 最小宽��� */
            padding: 8px;  /* 减小内边距 */
            border: 1px solid #e5e7eb;
            border-radius: 20px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #f9fafb;
            cursor: pointer;
        }
        
        .search-input:focus {
            width: 120px;  /* 聚焦时展示到合适宽度 */
            padding: 8px 30px 8px 12px;  /* 聚焦时恢复正常内边距 */
            outline: none;
            border-color: #2563eb;
            background: white;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            cursor: text;
        }
        
        /* 搜索框未聚焦时隐藏placeholder */
        .search-input:not(:focus)::placeholder {
            color: transparent;
        }
        
        /* 调整搜索结果器 */
        .search-results {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 180px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-top: 4px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
        }
        
        /* 调整其他导航元素的间距 */
        .nav-icons a {
            padding: 8px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .nav-icons a:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        
        /* 添加搜索建议下拉样式 */
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-top: 4px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1000;
        }
        
        .search-input:focus + .search-suggestions,
        .search-suggestions:hover {
            display: block;
        }
        
        .suggestion-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        
        .suggestion-item:hover {
            background: #f7fafc;
        }
        
        /* 更新导航链接样式 */
        .nav-links a, 
        .nav-icons a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 1rem;
            position: relative;
        }
        
        .nav-links a::after,
        .nav-icons a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: #0066cc;
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover,
        .nav-icons a:hover {
            color: #0066cc;
        }
        
        .nav-links a:hover::after,
        .nav-icons a:hover::after {
            width: 100%;
        }
        
        /* 调整图标链接样式 */
        .nav-icons {
            margin-left: auto;
            display: flex;
            gap: 2rem;  /* 增加间距 */
            align-items: center;
        }
        
        .nav-icons a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* 添加图标 */
        .icon-user::before {
            content: '👤';
        }
        
        .icon-cart::before {
            content: '🛒';
        }
        
        /* 恢复账户下拉菜单样式 */
        .account-dropdown {
            position: relative;
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            margin-right: 5px;
            position: relative;
            left: -15px;
            display: inline-flex;
            align-items: center;
            white-space: nowrap;
        }
        
        .icon-user {
            font-size: 1.2rem;
            margin-right: 2px;
        }
        
        .account-dropdown:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 8px;
            padding: 8px 0;
            z-index: 1000;
        }
        
        .dropdown-content.show {
            display: block;
        }
        
        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .dropdown-content a:hover {
            background: rgba(37, 99, 235, 0.1);
            color: #2563eb;
        }
        
        /* 文字渐变效果 */
        .section-title {
            background: linear-gradient(135deg, #1e293b, #334155);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        /* 图片优化 */
        img {
            filter: brightness(1.02) contrast(1.02);
            transition: all 0.5s ease;
        }
        
        /* 动过渡优化 */
        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* 滚动条美化 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* 搜索结果样式优化 */
        .search-results {
            max-height: 400px;
            overflow-y: auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .search-section {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }
        
        .search-section h4 {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 8px;
            padding-left: 8px;
        }
        
        .search-result-item {
            padding: 8px;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.2s;
        }
        
        .search-result-item:hover {
            background: #f8fafc;
        }
        
        .search-highlight {
            background: rgba(37, 99, 235, 0.1);
            color: #2563eb;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .no-results {
            padding: 20px;
            text-align: center;
            color: #666;
        }
        
        /* 添加注册模态框样式 */
        .register-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .register-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .close-register {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #2563eb;
        }
        
        .register-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .register-btn:hover {
            background: #1d4ed8;
        }
        
        .error-message {
            color: #dc2626;
            margin-bottom: 1rem;
            padding: 0.5rem;
            background: #fee2e2;
            border-radius: 4px;
        }
        
        #sendVerification {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            padding: 0.5rem 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        #sendVerification:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }
        
        /* 添加忘记密码样式 */
        .forgot-password {
            color: #2563eb;
            font-size: 0.9rem;
            text-decoration: none;
            margin-top: 0.5rem;
            display: block;
            text-align: right;
            cursor: pointer;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        /* 忘记密码模态框样式 */
        .forgot-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .forgot-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        /* 添加响应式设计 */
        @media screen and (max-width: 768px) {
            /* 导航栏响应式 */
            .nav-container {
                padding: 0 1rem;
                flex-wrap: wrap;
            }
            
            .logo {
                margin-right: 0;
                width: 100%;
                align-items: center;
                padding: 0.5rem 0;
            }
            
            .nav-links {
                display: none;
                width: 100%;
                flex-direction: column;
                padding: 1rem 0;
                text-align: center;
                background: white;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-icons {
                width: 100%;
                justify-content: center;
                margin: 1rem 0;
                left: 0;
            }
            
            /* 搜索框响应式 */
            .search-container {
                width: 100%;
                margin: 0.5rem 0;
                left: 0;
            }
            
            .search-input {
                width: 100%;
                max-width: none;
            }
            
            .search-input:focus {
                width: 100%;
            }
            
            /* 轮播图响应式 */
            .explore-slider {
                height: 60vh;
            }
            
            .slide-content h2 {
                font-size: 2rem;
            }
            
            .slide-content p {
                font-size: 1rem;
            }
            
            /* 产品网格响应式 */
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            /* 模态框响应式 */
            .register-content,
            .forgot-content {
                width: 95%;
                margin: 5% auto;
                padding: 1rem;
            }
            
            .form-group {
                position: relative;
            }
            
            #sendVerification,
            #sendResetCode {
                position: static;
                width: 100%;
                margin-top: 0.5rem;
                transform: none;
            }
            
            /* 联系信息响应式 */
            .contact-info {
                grid-template-columns: 1fr;
            }
            
            .contact-row {
                text-align: center;
            }
        }

        /* 添加汉堡菜单按钮 */
        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        @media screen and (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
        }

        /* 优化�����������动端响应式设计 */
        @media screen and (max-width: 768px) {
            /* 基础布���优化 */
            body {
                overflow-x: hidden;
                width: 100%;
            }
            
            .container {
                padding: 1rem;
                width: 100%;
                box-sizing: border-box;
            }
            
            /* 导航栏优化 */
            .nav-container {
                padding: 0 1rem;
                width: 100%;
                box-sizing: border-box;
            }
            
            .logo {
                width: auto;
                padding: 0.5rem 0;
            }
            
            .logo h1 {
                font-size: 1.5rem;
            }
            
            /* 轮播图优化 */
            .explore-slider {
                height: 50vh;
                border-radius: 0;
                margin: 0;
            }
            
            .slide-content {
                width: 90%;
            }
            
            .slide-content h2 {
                font-size: 2rem;
                margin-bottom: 0.5rem;
            }
            
            .slide-content p {
                font-size: 1rem;
                margin-bottom: 1rem;
            }
            
            /* 产品展示优化 */
            .product-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }
            
            .product-card {
                margin-bottom: 1rem;
            }
            
            /* 分类展示优化 */
            .product-category {
                grid-template-columns: 1fr;
                gap: 1rem;
                margin: 2rem 0;
            }
            
            .category-item {
                height: 40vh;
            }
            
            /* 联系信息优化 */
            .contact-section {
                padding: 2rem 1rem;
            }
            
            .contact-info {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            /* 搜索框优化 */
            .search-container {
                position: static;
                width: 100%;
                margin: 0.5rem 0;
            }
            
            .search-input {
                width: 100%;
                max-width: none;
            }
            
            .search-input:focus {
                width: 100%;
            }
            
            /* 导航菜单优化 */
            .nav-links {
                position: fixed;
                top: 60px;
                left: 0;
                width: 100%;
                background: white;
                padding: 0;
                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .nav-links.active {
                transform: translateX(0);
            }
            
            .nav-links a {
                padding: 1rem;
                border-bottom: 1px solid #eee;
                width: 100%;
                text-align: center;
            }
            
            /* 模态框优化 */
            .register-modal .register-content,
            .forgot-modal .forgot-content {
                width: 90%;
                margin: 10% auto;
                padding: 1.5rem;
            }
            
            .form-group {
                margin-bottom: 1rem;
            }
            
            .form-group input {
                width: 100%;
                box-sizing: border-box;
            }
            
            /* 按钮优化 */
            .btn {
                width: 100%;
                text-align: center;
                padding: 0.8rem;
            }
            
            /* 图片优化 */
            img {
                max-width: 100%;
                height: auto;
            }
            
            /* 页脚优化 */
            footer {
                padding: 2rem 1rem;
            }
        }

        /* 添加视口设置 */
        @viewport {
            width: device-width;
            zoom: 1.0;
        }

        /* 购物车样式 */
        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 更新购物车模态框样式 */
        .cart-modal {
            display: none;
            position: fixed;
            top: 60px; /* 导航栏高度 */
            right: 20px; /* 与购物车图标对齐 */
            width: 400px;
            max-height: 80vh;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            transform-origin: top right;
            animation: slideFromCart 0.3s ease;
        }

        @keyframes slideFromCart {
            from {
                transform: translateY(-20px) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        /* 移动端适配 */
        @media screen and (max-width: 768px) {
            .cart-modal {
                width: 100%;
                right: 0;
                border-radius: 0;
            }
        }

        /* 添加购物车箭头指示器 */
        .cart-modal::before {
            content: '';
            position: absolute;
            top: -8px;
            right: 28px; /* 调整箭头位置以对齐购物车图标 */
            width: 16px;
            height: 16px;
            background: white;
            transform: rotate(45deg);
            box-shadow: -2px -2px 5px rgba(0,0,0,0.05);
        }

        .cart-header {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .cart-items {
            max-height: calc(80vh - 200px); /* 限制最大高度 */
            overflow-y: auto;
            padding: 1rem;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            gap: 1rem;
        }

        .cart-item-info {
            flex: 1;
            min-width: 0; /* 防止文本溢出 */
        }

        .cart-item-title {
            font-weight: 500;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .cart-item-price {
            color: #2563eb;
            font-weight: 500;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: auto;
        }

        .quantity-btn {
            width: 28px;
            height: 28px;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background: white;
            transition: all 0.2s;
        }

        .quantity-btn:hover {
            border-color: #2563eb;
            color: #2563eb;
        }

        .cart-footer {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
            background: white;
            position: sticky;
            bottom: 0;
            z-index: 1;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-weight: 500;
            font-size: 1.1rem;
        }

        .checkout-btn {
            width: 100%;
            padding: 0.8rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .checkout-btn:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        .remove-item {
            color: #ef4444;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .remove-item:hover {
            background: rgba(239, 68, 68, 0.1);
        }

        /* 移动端适配 */
        @media screen and (max-width: 768px) {
            .cart-modal {
                width: 100%;
                max-width: none;
                border-radius: 0;
            }

            .cart-items {
                max-height: calc(100vh - 200px);
            }

            .cart-header {
                padding: 1rem;
            }

            .cart-item {
                padding: 0.8rem;
            }
        }

        .product-category {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin: 4rem 0;
        }
        
        .category-item {
            position: relative;
            height: 60vh;
            overflow: hidden;
        }
        
        .category-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }
        
        .category-content {
            position: absolute;
            bottom: 10%;
            left: 10%;
            color: white;
        }
        
        .category-content h3 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 1rem;
        }
        
        .category-content .btn {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 1rem 3rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .category-content .btn:hover {
            background: white;
            color: black;
        }
        
        .promises {
            background: #f8f9fa;
            padding: 4rem 0;
        }
        
        .promise-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 3rem;
            padding: 2rem 0;
        }
        
        .promise-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border-radius: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .promise-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }
        
        .promise-item img {
            width: 80px;
            height: 80px;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        }
        
        .promise-item h3 {
            font-size: 1.2rem;
            color: #2c3e50;
            margin-bottom: 0.8rem;
        }
        
        .promise-item p {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* 更新联系信息样式 */
        .contact-section {
            background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
            padding: 3rem 0 0;
            margin-top: 4rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .contact-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 4rem;
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            padding: 0;
        }
        
        .contact-row {
            padding: 0;
            min-width: 200px;
            text-align: center;
        }
        
        .contact-row h3 {
            text-align: center;
            margin-left: 0;
            color: #1e293b;
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            letter-spacing: 0.5px;
        }
        
        .contact-row p {
            text-align: center;
            margin-left: 0;
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.8;
        }
        
        .copyright {
            position: relative;
            width: 100%;
            text-align: center;
            padding: 2.5rem 0;
            margin-top: 5rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            background: linear-gradient(to bottom, #f1f4f8, #edf2f7);
        }
        
        .copyright p {
            color: #718096;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
            line-height: 1.8;
        }
        
        .contact-item a {
            color: #666;
            text-decoration: none;
        }
        
        .contact-item a:hover {
            color: #0066cc;
        }
        
        /* 调整第四列（关注我们）的位置 */
        .contact-row:nth-child(4) {
            margin-left: -1rem;
        }
        
        /* 调整第三列（关于我们）的位置 */
        .contact-row:nth-child(3) {
            margin-left: 3rem;
        }
        
        /* 调整第一列和第二列的位置 */
        .contact-row:nth-child(1),
        .contact-row:nth-child(2) {
            margin-right: 2rem;
        }
        
        .contact-row a {
            color: #4a5568;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .contact-row a:hover {
            color: #2d3748;
        }
        
        .contact-row a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -2px;
            left: 0;
            background-color: #2d3748;
            transition: width 0.3s ease;
        }
        
        .contact-row a:hover::after {
            width: 100%;
        }
        
        /* 添加式 */
        .contact-row h3 {
            text-align: left;
            margin-left: 1rem;
        }
        
        .contact-row p {
            text-align: left;
            margin-left: 1rem;
        }
        
        /* 除之前的距调整 */
        .contact-row:nth-child(3),
        .contact-row:nth-child(4) {
            padding-left: 0;
        }
        
        /* 调整整体容器 */
        .contact-section .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        /* 添加侧边悬浮栏样式 */
        .float-social {
            position: fixed;
            right: 20px;  /* 改为右侧固定 */
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 12px;
            z-index: 1000;
        }
        
        .float-social h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1rem;
            color: #333;
            text-align: center;
        }
        
        .social-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .social-links a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.3rem 0.8rem;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .social-links a:hover {
            color: #2563eb;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 4px;
        }
        
        /* 移除之前的边距调整 */
        .contact-row {
            padding: 0;
            min-width: 200px;
            text-align: center;
        }
        
        .contact-row h3 {
            text-align: center;
            margin-left: 0;
            color: #1e293b;
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            letter-spacing: 0.5px;
        }
        
        .contact-row p {
            text-align: center;
            margin-left: 0;
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.8;
        }
        
        /* 移除之前的位调整 */
        .contact-row:nth-child(1),
        .contact-row:nth-child(2),
        .contact-row:nth-child(3) {
            margin: 0;
        }
        
        /* 更新搜索相关样式 */
        .nav-icons {
            margin-left: auto;
            display: flex;
            gap: 2rem;  /* 增加间距 */
            align-items: center;
        }
        
        /* 更新搜索框样式为最小尺寸 */
        .search-container {
            position: relative;
            margin-right: 1.5rem;
        }
        
        .search-input {
            width: 30px;  /* 最小宽 */
            padding: 8px;  /* 减小内边距 */
            border: 1px solid #e5e7eb;
            border-radius: 20px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #f9fafb;
            cursor: pointer;
        }
        
        .search-input:focus {
            width: 120px;  /* 聚焦时展示到合适宽度 */
            padding: 8px 30px 8px 12px;  /* 聚焦时恢复正常内边距 */
            outline: none;
            border-color: #2563eb;
            background: white;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            cursor: text;
        }
        
        /* 搜索框未聚焦时隐藏placeholder */
        .search-input:not(:focus)::placeholder {
            color: transparent;
        }
        
        /* 调整搜索结果器 */
        .search-results {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 180px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-top: 4px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
        }
        
        /* 调整其他导航元素的间距 */
        .nav-icons a {
            padding: 8px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .nav-icons a:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        
        /* 添加搜索建议下拉样式 */
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-top: 4px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1000;
        }
        
        .search-input:focus + .search-suggestions,
        .search-suggestions:hover {
            display: block;
        }
        
        .suggestion-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        
        .suggestion-item:hover {
            background: #f7fafc;
        }
        
        /* 更新导航链接样式 */
        .nav-links a, 
        .nav-icons a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 1rem;
            position: relative;
        }
        
        .nav-links a::after,
        .nav-icons a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: #0066cc;
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover,
        .nav-icons a:hover {
            color: #0066cc;
        }
        
        .nav-links a:hover::after,
        .nav-icons a:hover::after {
            width: 100%;
        }
        
        /* 调整图标链接样式 */
        .nav-icons {
            margin-left: auto;
            display: flex;
            gap: 2rem;  /* 增加间距 */
            align-items: center;
        }
        
        .nav-icons a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* 添加图标 */
        .icon-user::before {
            content: '👤';
        }
        
        .icon-cart::before {
            content: '🛒';
        }
        
        /* 恢复账户下拉菜单样式 */
        .account-dropdown {
            position: relative;
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            margin-right: 5px;
            position: relative;
            left: -15px;
            display: inline-flex;
            align-items: center;
            white-space: nowrap;
        }
        
        .icon-user {
            font-size: 1.2rem;
            margin-right: 2px;
        }
        
        .account-dropdown:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 8px;
            padding: 8px 0;
            z-index: 1000;
        }
        
        .dropdown-content.show {
            display: block;
        }
        
        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .dropdown-content a:hover {
            background: rgba(37, 99, 235, 0.1);
            color: #2563eb;
        }
        
        /* 文字渐变效果 */
        .section-title {
            background: linear-gradient(135deg, #1e293b, #334155);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        /* 图片优化 */
        img {
            filter: brightness(1.02) contrast(1.02);
            transition: all 0.5s ease;
        }
        
        /* 动过渡优化 */
        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* 滚动条美化 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* 搜索结果样式优化 */
        .search-results {
            max-height: 400px;
            overflow-y: auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .search-section {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }
        
        .search-section h4 {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 8px;
            padding-left: 8px;
        }
        
        .search-result-item {
            padding: 8px;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.2s;
        }
        
        .search-result-item:hover {
            background: #f8fafc;
        }
        
        .search-highlight {
            background: rgba(37, 99, 235, 0.1);
            color: #2563eb;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .no-results {
            padding: 20px;
            text-align: center;
            color: #666;
        }
        
        /* 添加注册模态框样式 */
        .register-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .register-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .close-register {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #2563eb;
        }
        
        .register-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .register-btn:hover {
            background: #1d4ed8;
        }
        
        .error-message {
            color: #dc2626;
            margin-bottom: 1rem;
            padding: 0.5rem;
            background: #fee2e2;
            border-radius: 4px;
        }
        
        #sendVerification {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            padding: 0.5rem 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        #sendVerification:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }
        
        /* 添加忘记密码样式 */
        .forgot-password {
            color: #2563eb;
            font-size: 0.9rem;
            text-decoration: none;
            margin-top: 0.5rem;
            display: block;
            text-align: right;
            cursor: pointer;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        /* 忘记密码模态框样式 */
        .forgot-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .forgot-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        /* 添加响应式设计 */
        @media screen and (max-width: 768px) {
            /* 导航栏响应式 */
            .nav-container {
                padding: 0 1rem;
                flex-wrap: wrap;
            }
            
            .logo {
                margin-right: 0;
                width: 100%;
                align-items: center;
                padding: 0.5rem 0;
            }
            
            .nav-links {
                display: none;
                width: 100%;
                flex-direction: column;
                padding: 1rem 0;
                text-align: center;
                background: white;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-icons {
                width: 100%;
                justify-content: center;
                margin: 1rem 0;
                left: 0;
            }
            
            /* 搜索框响应式 */
            .search-container {
                width: 100%;
                margin: 0.5rem 0;
                left: 0;
            }
            
            .search-input {
                width: 100%;
                max-width: none;
            }
            
            .search-input:focus {
                width: 100%;
            }
            
            /* 轮播图响应式 */
            .explore-slider {
                height: 60vh;
            }
            
            .slide-content h2 {
                font-size: 2rem;
            }
            
            .slide-content p {
                font-size: 1rem;
            }
            
            /* 产品网格响应式 */
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            /* 模态框响应式 */
            .register-content,
            .forgot-content {
                width: 95%;
                margin: 5% auto;
                padding: 1rem;
            }
            
            .form-group {
                position: relative;
            }
            
            #sendVerification,
            #sendResetCode {
                position: static;
                width: 100%;
                margin-top: 0.5rem;
                transform: none;
            }
            
            /* 联系信息响应式 */
            .contact-info {
                grid-template-columns: 1fr;
            }
            
            .contact-row {
                text-align: center;
            }
        }

        /* 添加汉堡菜单按钮 */
        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        @media screen and (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
        }

        /* 优化动端响应式设计 */
        @media screen and (max-width: 768px) {
            /* 基础布优化 */
            body {
                overflow-x: hidden;
                width: 100%;
            }
            
            .container {
                padding: 1rem;
                width: 100%;
                box-sizing: border-box;
            }
            
            /* 导航栏优化 */
            .nav-container {
                padding: 0 1rem;
                width: 100%;
                box-sizing: border-box;
            }
            
            .logo {
                width: auto;
                padding: 0.5rem 0;
            }
            
            .logo h1 {
                font-size: 1.5rem;
            }
            
            /* 轮播图优化 */
            .explore-slider {
                height: 50vh;
                border-radius: 0;
                margin: 0;
            }
            
            .slide-content {
                width: 90%;
            }
            
            .slide-content h2 {
                font-size: 2rem;
                margin-bottom: 0.5rem;
            }
            
            .slide-content p {
                font-size: 1rem;
                margin-bottom: 1rem;
            }
            
            /* 产品展示优化 */
            .product-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }
            
            .product-card {
                margin-bottom: 1rem;
            }
            
            /* 分类展示优化 */
            .product-category {
                grid-template-columns: 1fr;
                gap: 1rem;
                margin: 2rem 0;
            }
            
            .category-item {
                height: 40vh;
            }
            
            /* 联系信息优化 */
            .contact-section {
                padding: 2rem 1rem;
            }
            
            .contact-info {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            /* 搜索框优化 */
            .search-container {
                position: static;
                width: 100%;
                margin: 0.5rem 0;
            }
            
            .search-input {
                width: 100%;
                max-width: none;
            }
            
            .search-input:focus {
                width: 100%;
            }
            
            /* 导航菜单优化 */
            .nav-links {
                position: fixed;
                top: 60px;
                left: 0;
                width: 100%;
                background: white;
                padding: 0;
                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .nav-links.active {
                transform: translateX(0);
            }
            
            .nav-links a {
                padding: 1rem;
                border-bottom: 1px solid #eee;
                width: 100%;
                text-align: center;
            }
            
            /* 模态框优化 */
            .register-modal .register-content,
            .forgot-modal .forgot-content {
                width: 90%;
                margin: 10% auto;
                padding: 1.5rem;
            }
            
            .form-group {
                margin-bottom: 1rem;
            }
            
            .form-group input {
                width: 100%;
                box-sizing: border-box;
            }
            
            /* 按钮优化 */
            .btn {
                width: 100%;
                text-align: center;
                padding: 0.8rem;
            }
            
            /* 图片优化 */
            img {
                max-width: 100%;
                height: auto;
            }
            
            /* 页脚优化 */
            footer {
                padding: 2rem 1rem;
            }
        }

        /* 添加视口设置 */
        @viewport {
            width: device-width;
            zoom: 1.0;
        }

        /* 购物车样式 */
        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-modal {
            display: none;
            position: fixed;
            top: 60px;
            right: 20px;
            width: 350px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1000;
        }

        .cart-header {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-items {
            max-height: 400px;
            overflow-y: auto;
            padding: 1rem;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .cart-item-info {
            flex: 1;
            padding: 0 1rem;
        }

        .cart-item-title {
            font-weight: 500;
        }

        .cart-item-price {
            color: #2563eb;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-btn {
            width: 24px;
            height: 24px;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .cart-footer {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .checkout-btn {
            width: 100%;
            padding: 0.8rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkout-btn:hover {
            background: #1d4ed8;
        }

        .remove-item {
            color: #ef4444;
            cursor: pointer;
            padding: 0.2rem 0.5rem;
        }

        /* 商品数量控制样式 */
        .product-quantity {
            display: flex;
            align-items: center;
            margin: 1rem 0;
            gap: 0.5rem;
        }

        .product-quantity input {
            width: 50px;
            text-align: center;
            padding: 0.3rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .quantity-btn:hover {
            background: #f3f4f6;
            border-color: #2563eb;
            color: #2563eb;
        }

        /* 优化大诺在移动端的显示 */
        @media screen and (max-width: 768px) {
            .promises {
                padding: 2rem 0;
            }
            
            .promise-grid {
                grid-template-columns: 1fr;  /* 改为单列显示 */
                gap: 1.5rem;
                padding: 1rem;
            }
            
            .promise-item {
                padding: 1.5rem;
                flex-direction: row;  /* 改为横向布局 */
                text-align: left;
                align-items: center;
                gap: 1rem;
            }
            
            .promise-item img {
                width: 50px;  /* 减小图标大小 */
                height: 50px;
                margin-bottom: 0;  /* 移除底部间距 */
            }
            
            .promise-item h3 {
                font-size: 1.1rem;
                margin-bottom: 0.3rem;
            }
            
            .promise-item p {
                font-size: 0.9rem;
                margin: 0;
            }
            
            .section-title {
                font-size: 1.5rem;
                margin-bottom: 1.5rem;
                text-align: center;
                padding: 0 1rem;
            }
            
            .promise-item:hover {
                transform: none;  /* 移除悬浮效果 */
            }
            
            .promise-content {
                flex: 1;  /* 文字内容占据剩余空间 */
            }
        }

        /* 实时问答窗口样式 */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: #2563eb;
            color: white;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .chat-title {
            font-weight: 500;
            margin-right: auto;  /* 确保标题靠左 */
        }

        .chat-minimize {
            font-size: 20px;
        }

        .chat-body {
            height: 400px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.8rem;
            border-radius: 8px;
            max-width: 80%;
        }

        .message.system {
            background: #f3f4f6;
            margin-right: auto;
        }

        .message.user {
            background: #2563eb;
            color: white;
            margin-left: auto;
        }

        .chat-input-area {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 0.5rem;
        }

        .chat-input-area input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            outline: none;
        }

        .chat-input-area button {
            padding: 0.5rem 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .chat-input-area button:hover {
            background: #1d4ed8;
        }

        /* 移动端适配 */
        @media screen and (max-width: 768px) {
            .chat-widget {
                width: 100%;
                height: 100%;
                bottom: 0;
                right: 0;
                border-radius: 0;
            }
            
            .chat-body {
                height: calc(100vh - 50px);
            }
        }

        /* 更新移动端咨询模块样式 */
        @media screen and (max-width: 768px) {
            .chat-widget {
                /* 初始状态只显示一个浮动按钮 */
                width: 50px;
                height: 50px;
                border-radius: 25px;
                bottom: 20px;
                right: 20px;
                transition: all 0.3s ease;
                z-index: 10000; /* 确保在最上层 */
            }
            
            .chat-widget.expanded {
                /* 展开状态占满屏幕 */
                width: 100%;
                height: 100%;
                bottom: 0;
                right: 0;
                border-radius: 0;
                position: fixed;
                top: 0;
                left: 0;
            }
            
            .chat-body {
                display: none;
                height: calc(100% - 50px);
                background: white;
            }
            
            .chat-widget.expanded .chat-body {
                display: flex;
            }
            
            .chat-messages {
                height: calc(100vh - 120px); /* 调整高度以适应输入框 */
                overflow-y: auto;
                -webkit-overflow-scrolling: touch; /* 增加iOS滚动惯性 */
            }
            
            .chat-input-area {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                padding: 10px;
                background: white;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            }
            
            .chat-input-area input {
                height: 40px;
                font-size: 16px;
                padding: 0 12px;
            }
            
            .chat-input-area button {
                height: 40px;
                padding: 0 20px;
            }
        }

        /* 更新移动端咨询图标样式 */
        @media screen and (max-width: 768px) {
            .chat-widget:not(.expanded) {
                width: 60px;
                height: 60px;
                border-radius: 30px;
                background: #2563eb;
                box-shadow: 0 4px 20px rgba(37, 99, 235, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
            }
            
            .chat-widget:not(.expanded) .chat-title,
            .chat-widget:not(.expanded) .chat-minimize {
                display: none;
            }
        }

        /* PC端咨询窗口样式保持不变 */
        .chat-header {
            background: #2563eb;
            color: white;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .chat-title {
            font-weight: 500;
            margin-right: auto;  /* 确保标题靠左 */
        }

        /* 新智客服样式 */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .chat-header {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .chat-icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .chat-title {
            flex: 1;
            font-weight: 500;
        }

        .chat-minimize {
            font-size: 20px;
            cursor: pointer;
        }

        .chat-body {
            height: 400px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .message {
            margin-bottom: 15px;
            max-width: 80%;
            animation: fadeIn 0.3s ease;
        }

        .message.system {
            background: #f3f4f6;
            padding: 12px;
            border-radius: 12px 12px 12px 0;
            margin-right: auto;
            color: #1f2937;
        }

        .message.user {
            background: #2563eb;
            color: white;
            padding: 12px;
            border-radius: 12px 12px 0 12px;
            margin-left: auto;
        }

        .message.welcome {
            background: #e0f2fe;
            border-left: 4px solid #2563eb;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-reply {
            background: white;
            border: 1px solid #2563eb;
            color: #2563eb;
            padding: 8px 16px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-reply:hover {
            background: #2563eb;
            color: white;
        }

        .chat-input-area {
            padding: 15px;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 10px;
        }

        .chat-input-area input {
            flex: 1;
            padding: 10px;
            border: 1px solid #e5e7eb;
            border-radius: 20px;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .chat-input-area input:focus {
            border-color: #2563eb;
        }

        .chat-input-area button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chat-input-area button:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 移动端适配 */
        @media screen and (max-width: 768px) {
            .chat-widget {
                width: 100%;
                height: 100%;
                bottom: 0;
                right: 0;
                border-radius: 0;
            }

            .chat-body {
                height: calc(100vh - 60px);
            }
        }

        /* 更新移动端智能客服样式 */
        @media screen and (max-width: 768px) {
            .chat-widget {
                /* 初始状态为浮动按钮 */
                width: 50px;
                height: 50px;
                border-radius: 25px;
                bottom: 20px;
                right: 20px;
                overflow: hidden;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                z-index: 10000;
            }
            
            .chat-widget.expanded {
                /* 展开状态 */
                width: 100%;
                height: 100vh;
                bottom: 0;
                right: 0;
                border-radius: 0;
                position: fixed;
                top: 0;
                left: 0;
            }
            
            .chat-body {
                display: none;
                height: calc(100vh - 60px);
                flex-direction: column;
                background: white;
            }
            
            .chat-widget.expanded .chat-body {
                display: flex;
            }
            
            .chat-messages {
                flex: 1;
                height: calc(100vh - 120px);
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                padding-bottom: 60px; /* 为输入框留出空间 */
            }
            
            .chat-input-area {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                padding: 10px;
                background: white;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
                z-index: 1;
            }
            
            .chat-input-area input {
                height: 40px;
                font-size: 16px; /* 避免iOS自动缩放 */
                padding: 0 12px;
                border-radius: 20px;
            }
            
            .chat-input-area button {
                height: 40px;
                padding: 0 20px;
                border-radius: 20px;
            }

            /* 未展开状态只显示图标 */
            .chat-widget:not(.expanded) .chat-header {
                padding: 0;
                width: 50px;
                height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
                background: #2563eb;
            }

            .chat-widget:not(.expanded) .chat-title,
            .chat-widget:not(.expanded) .chat-minimize {
                display: none;
            }

            .chat-widget:not(.expanded) .chat-icon {
                margin: 0;
                font-size: 24px;
            }
        }

        /* 更新移动端智能客服文字样式 */
        @media screen and (max-width: 768px) {
            /* 调整消息字体大小 */
            .message {
                font-size: 13px; /* 减小字体 */
                line-height: 1.4;
                padding: 10px 14px; /* 减小内边距 */
                margin-bottom: 8px;
                max-width: 80%;
            }
            
            /* 调整快速回复按钮 */
            .quick-reply {
                font-size: 12px; /* 减小字体 */
                padding: 6px 12px;
                border-radius: 16px;
            }
            
            /* 调整聊天头部 */
            .chat-title {
                font-size: 14px;
            }
            
            .chat-icon {
                font-size: 18px;
            }
            
            /* 调整输入区域 */
            .chat-input-area input {
                font-size: 13px;
                height: 36px;
                padding: 8px 12px;
            }
            
            .chat-input-area button {
                font-size: 13px;
                height: 36px;
                padding: 8px 16px;
                min-width: 60px;
            }
            
            /* 调整欢迎消息 */
            .message.welcome {
                font-size: 13px;
                padding: 12px;
            }
            
            /* 调整时间戳 */
            .message-time {
                font-size: 11px;
            }
        }

        /* 添加深色模式支持 */
        @media (prefers-color-scheme: dark) {
            .chat-widget.expanded {
                background: #1f2937;
            }
            
            .message.system {
                background: #374151;
                color: #e5e7eb;
            }
            
            .chat-input-area {
                background: #1f2937;
                border-top-color: #374151;
            }
            
            .chat-input-area input {
                background: #374151;
                color: #e5e7eb;
                border-color: #4b5563;
            }
            
            .message.welcome {
                background: #1e3a8a;
                border-left-color: #3b82f6;
                color: #e5e7eb;
            }
            
            .quick-reply {
                background: #374151;
                border-color: #4b5563;
                color: #e5e7eb;
            }
        }

        /* 登录模态框样式 */
        .login-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .login-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        .close-login {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .login-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .login-btn:hover {
            background: #1d4ed8;
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1rem 0;
        }

        .register-prompt {
            text-align: center;
            margin-top: 1rem;
            color: #666;
        }

        .register-prompt a {
            color: #2563eb;
            text-decoration: none;
        }

        .register-prompt a:hover {
            text-decoration: underline;
        }

        /* 账户下拉菜单样式更新 */
        .account-section {
            position: relative;
        }

        .login-link {
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #333;
        }

        .login-link:hover {
            background: rgba(37, 99, 235, 0.1);
        }

        #userNameDisplay {
            margin-left: 5px;
        }

        /* 添加空购物车样式 */
        .empty-cart {
            text-align: center;
            padding: 2rem;
            color: #6b7280;
            font-size: 0.9rem;
        }

        .quantity {
            min-width: 24px;
            text-align: center;
        }

        /* 添加到现有的样式表中 */
        .payment-methods {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .payment-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.8rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-btn img {
            width: 24px;
            height: 24px;
        }

        .payment-btn.alipay {
            background: #00a0e9;
            color: white;
        }

        .payment-btn.wechat {
            background: #2aae67;
            color: white;
        }

        .payment-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* 支付确认弹窗样式 */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
        }

        .payment-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .payment-amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f60;
            margin: 1rem 0;
        }

        .payment-qrcode {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 1.5rem auto;
        }

        .payment-qrcode img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .payment-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .payment-status {
            margin-top: 1rem;
            font-weight: 500;
        }

        .order-info {
            margin-top: 1rem;
            text-align: left;
            font-size: 0.9rem;
            color: #666;
        }

        /* 添加到购物车动画样式 */
        .add-to-cart-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2aae67;
            color: white;
            padding: 1rem 2rem;
            border-radius: 4px;
            animation: slideIn 0.3s ease, fadeOut 0.3s ease 1.7s;
            z-index: 10000;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        /* 添加到现有的样式表中 */
        .stock-info {
            color: #666;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .quantity-control input {
            width: 50px;
            text-align: center;
            padding: 0.3rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .quantity-btn {
            width: 28px;
            height: 28px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            border-color: #2563eb;
            color: #2563eb;
        }

        /* 购物车商品样式更新 */
        .cart-item {
            display: flex;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            align-items: center;
            gap: 1rem;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 500;
            margin-bottom: 0.3rem;
        }

        .cart-item-desc {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.3rem;
        }

        .cart-item-price {
            color: #2563eb;
            font-weight: 500;
        }

        .cart-item-total {
            color: #2563eb;
            font-weight: 600;
            margin-left: auto;
        }

        /* 添加到现有的样式表中 */
        .cart-item-price {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .cart-item-price .price {
            color: #666;
        }

        .cart-item-price .subtotal {
            color: #2563eb;
            font-weight: 500;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-controls .quantity {
            min-width: 2rem;
            text-align: center;
        }

        /* 添加支付弹窗 */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
        }

        .payment-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .payment-amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f60;
            margin: 1rem 0;
        }

        .payment-qrcode {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 1.5rem auto;
        }

        .payment-qrcode img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .payment-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .payment-status {
            margin-top: 1rem;
            font-weight: 500;
        }

        .order-info {
            margin-top: 1rem;
            text-align: left;
            font-size: 0.9rem;
            color: #666;
        }

        /* 添加订单列表模态框 */
        .orders-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 10000;
        }

        .orders-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .order-item {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .order-status {
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .status-paid {
            background: #e6f7e6;
            color: #2aae67;
        }

        .status-pending {
            background: #fff7e6;
            color: #f90;
        }

        .order-products {
            margin: 1rem 0;
        }

        .order-product {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .order-total {
            text-align: right;
            font-weight: bold;
            color: #f60;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 修改移动端导航栏样式 */
        @media screen and (max-width: 768px) {
            .nav-links {
                display: none;
                width: 50%;  /* 将宽度改为50%，原来是100% */
                flex-direction: column;
                padding: 1rem 0;
                text-align: left;  /* 改为左对齐 */
                background: white;
                margin-left: 0;    /* 移除左边距 */
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-links a {
                width: 100%;
                padding: 1rem 2rem;  /* 增加左内边距 */
                text-align: left;    /* 文字左对齐 */
                border-bottom: 1px solid #eee;
            }
            
            .nav-links a:hover {
                background: rgba(37, 99, 235, 0.1);
                border-radius: 0;    /* 移除圆角 */
            }
            
            /* 调整菜单按钮位置 */
            .menu-toggle {
                margin-right: 1rem;
            }
            
            /* 调整logo位置 */
            .logo {
                margin-left: 1rem;
            }
        }

        /* 修改移动端导航栏样式 */
        @media screen and (max-width: 768px) {
            .nav-links {
                display: none;
                width: 50%;
                flex-direction: column;
                padding: 0;
                text-align: left;
                background: white;
                margin-left: 0;
                box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
                overflow: hidden;  /* 添加这行来防止内容溢出 */
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-links a {
                width: 100%;
                padding: 1rem 2rem;
                text-align: left;
                margin: 0;
                white-space: nowrap;
                box-sizing: border-box;  /* 确保padding计入总宽度 */
                position: relative;      /* 为自定义分割线添加相对定位 */
            }
            
            .nav-links a::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;            /* 设置分割线宽度为100% */
                height: 1px;
                background-color: #eee;
            }
            
            .nav-links a:last-child::after {
                display: none;          /* 移除最后一项的分割线 */
            }
            
            .nav-links a:hover {
                background: rgba(37, 99, 235, 0.1);
                border-radius: 0;
            }
        }

        /* 修改移动端账户下拉菜单样式 */
        @media screen and (max-width: 768px) {
            .nav-icons {
                margin-left: 0;  /* 移除左边距 */
                left: 0;        /* 重置左偏移 */
                padding-right: 1rem;
            }

            .account-dropdown {
                position: relative;
                left: -15px;    /* 向左移动下拉菜单 */
            }

            .dropdown-content {
                right: auto;    /* 移除右对齐 */
                left: 0;        /* 设置左对齐 */
                min-width: 150px;
            }
        }

        /* 修改账户下拉菜单样式 */
        .account-dropdown {
            position: relative;
            left: -35px;  /* 向左移动下拉菜单 */
        }

        .dropdown-content {
            position: absolute;
            top: 100%;
            right: -20px;     /* 将右边距改为-20px，使下拉菜单向右移动 */
            background: white;
            min-width: 140px;      /* 减小最小宽度，原来是180px */
            max-width: 140px;      /* 添加最大宽度限制 */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 0.5rem 0;
            display: none;
            z-index: 1000;
            transform: translateX(0);  /* 移除之前的左移位移 */
        }

        .dropdown-content a {
            padding: 0.5rem 1.2rem;  /* 调整内边距 */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* 保持移动端的样式 */
        @media screen and (max-width: 768px) {
            .nav-icons {
                margin-left: 0;
                left: 0;
                padding-right: 1rem;
            }

            .account-dropdown {
                position: relative;
                left: -15px;
            }

            .dropdown-content {
                right: auto;
                left: 0;
                min-width: 150px;
                max-width: none;  /* 移动端不限制最大宽度 */
            }
        }

        /* 实名认证模态框样式 */
        .verify-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .verify-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        .id-card-upload {
            display: flex;
            gap: 2rem;
            margin: 2rem 0;
        }

        .upload-section {
            flex: 1;
        }

        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            border-color: #2563eb;
            background: rgba(37, 99, 235, 0.05);
        }

        .upload-area i {
            font-size: 2rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .submit-verify-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-verify-btn:hover {
            background: #1d4ed8;
        }

        /* 更换手机号模态框样式 */
        .change-phone-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .change-phone-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        .verify-code-section {
            display: flex;
            gap: 1rem;
        }

        .verify-code-section input {
            flex: 1;
        }

        #sendPhoneCode {
            white-space: nowrap;
            padding: 0.8rem 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        #sendPhoneCode:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }

        .submit-phone-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .submit-phone-btn:hover {
            background: #1d4ed8;
        }

        /* 响应式适配 */
        @media screen and (max-width: 768px) {
            .id-card-upload {
                flex-direction: column;
                gap: 1rem;
            }
            
            .verify-content,
            .change-phone-content {
                margin: 5% auto;
                width: 95%;
                padding: 1.5rem;
            }
        }

        /* 个人资料模态框样式 */
        .profile-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }

        .profile-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        .close-profile {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .avatar-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .avatar-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
            border-radius: 50%;
            overflow: hidden;
        }

        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.6);
            padding: 8px 0;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .avatar-container:hover .avatar-overlay {
            opacity: 1;
        }

        .upload-btn {
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .profile-info {
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 500;
        }

        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }

        .gender-options {
            display: flex;
            gap: 2rem;
        }

        .radio-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .region-select {
            display: flex;
            gap: 1rem;
        }

        .region-select select {
            flex: 1;
        }

        textarea#bio {
            height: 100px;
            resize: vertical;
        }

        .save-profile-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 2rem;
            transition: all 0.3s ease;
        }

        .save-profile-btn:hover {
            background: #1d4ed8;
        }

        /* 响应式适配 */
        @media screen and (max-width: 768px) {
            .profile-content {
                margin: 0;
                width: 100%;
                height: 100%;
                border-radius: 0;
                overflow-y: auto;
            }
            
            .gender-options {
                flex-direction: column;
                gap: 1rem;
            }
            
            .region-select {
                flex-direction: column;
            }
        }

        /* 个人资料模态框样式 */
        .profile-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }

        .profile-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
        }

        .close-profile {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .avatar-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .avatar-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
            border-radius: 50%;
            overflow: hidden;
        }

        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.6);
            padding: 8px 0;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .avatar-container:hover .avatar-overlay {
            opacity: 1;
        }

        .upload-btn {
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .profile-info {
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 500;
        }

        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }

        .gender-options {
            display: flex;
            gap: 2rem;
        }

        .radio-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .region-select {
            display: flex;
            gap: 1rem;
        }

        .region-select select {
            flex: 1;
        }

        textarea#bio {
            height: 100px;
            resize: vertical;
        }

        .save-profile-btn {
            width: 100%;
            padding: 1rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 2rem;
            transition: all 0.3s ease;
        }

        .save-profile-btn:hover {
            background: #1d4ed8;
        }

        /* 响应式适配 */
        @media screen and (max-width: 768px) {
            .profile-content {
                margin: 0;
                width: 100%;
                height: 100%;
                border-radius: 0;
                overflow-y: auto;
            }
            
            .gender-options {
                flex-direction: column;
                gap: 1rem;
            }
            
            .region-select {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="nav-bar">
            <div class="nav-container">
                <div class="menu-toggle">☰</div>
                <div class="logo">
                    <h1>明亮眼镜店</h1>
                    <p>专业配镜 品质保证</p>
                </div>
                <div class="nav-links">
                    <a href="glasses.html">配眼镜</a>
                    <a href="glasses.html?category=sun">太阳镜</a>
                    <a href="glasses.html?category=optical">防蓝光眼镜</a>
                    <a href="glasses.html?category=reading">老花眼镜</a>
                    <a href="glasses.html?category=kids">儿童眼镜</a>
                    <a href="glasses.html?category=contact">隐形眼镜</a>
                </div>
                <div class="nav-icons">
                    <div class="search-container">
                        <input type="text" class="search-input" id="searchInput" placeholder="搜索" autocomplete="off">
                        <div class="search-results" id="searchResults"></div>
                    </div>
                    <div class="account-section">
                        <!-- 未登录时显示 -->
                        <a href="#" class="login-link" onclick="showLoginModal()" id="loginButton">登录</a>
                        <!-- 登录后显示 -->
                        <div class="account-dropdown" id="accountDropdown" style="display: none;">
                            <a href="#account" class="dropdown-toggle">
                                <span class="icon-user"></span>
                                <span id="userNameDisplay"></span>
                            </a>
                            <div class="dropdown-content">
                                <a href="/personal-info">个人信息</a>
                                <a href="/order-details">订单详情</a>
                                <a href="/change-password">修改密码</a>
                                <a href="#" onclick="logout()">退出登录</a>
                            </div>
                        </div>
                    </div>
                    <div class="cart-icon" onclick="toggleCart()">
                        🛒 <span class="cart-count">0</span>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <div class="explore-slider">
            <div class="explore-slides">
                <div class="explore-slide active">
                    <img src="https://images.unsplash.com/photo-1577744486770-020ab432da65" alt="探索视界">
                    <div class="slide-content">
                        <h2>探索视界</h2>
                        <p>2025春品系列</p>
                        <a href="#new-arrivals" class="btn">立即探索</a>
                    </div>
                </div>
                <div class="explore-slide">
                    <img src="https://images.unsplash.com/photo-1511105043137-7e66f28270e3" alt="时尚�������镜">
                    <div class="slide-content">
                        <h2>时尚眼镜</h2>
                        <p>潮流新品</p>
                        <a href="#fashion" class="btn">查看详情</a>
                    </div>
                </div>
                <div class="explore-slide">
                    <img src="https://images.unsplash.com/photo-1574258495973-f010dfbb5371" alt="品质保证">
                    <div class="slide-content">
                        <h2>品质保证</h2>
                        <p>专业验光配镜</p>
                        <a href="#quality" class="btn">了解更多</a>
                    </div>
                </div>
            </div>
            
            <div class="explore-nav">
                <span class="explore-dot active" data-index="0"></span>
                <span class="explore-dot" data-index="1"></span>
                <span class="explore-dot" data-index="2"></span>
            </div>
            
            <button class="explore-arrow explore-prev" aria-label="Previous slide">
                <svg viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                </svg>
            </button>
            <button class="explore-arrow explore-next" aria-label="Next slide">
                <svg viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                </svg>
            </button>
        </div>

        <section class="about">
            <h2>关于我们</h2>
            <p>明亮眼镜店成立于2010年，致力于为顾客提供优质的验光配镜服务。我们拥有专业的验光师团队和先进的验光设备，保每位顾客都能获最适合的眼镜。</p>
        </section>

        <section class="gallery">
            <h2>产展示</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1574258495973-f010dfbb5371" alt="时尚眼镜展示">
                    <div class="gallery-caption">时尚框架系列</div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1511499767150-a48a237f0083" alt="太阳镜展示">
                    <div class="gallery-caption">新款太阳镜</div>
                </div>
                <div class="gallery-item">
                    <img src="https://cbu01.alicdn.com/img/ibank/O1CN01w1envl28M2REWlhe6_!!2213226947917-0-cib.jpg" alt="儿童眼镜">
                    <div class="gallery-caption">儿童眼镜专区</div>
                </div>
                <div class="gallery-item">
                    <img src="https://ltyonline.cn/images/202210/goods_img/4270_P_1666233721668.jpg" alt="眼镜展示">
                    <div class="gallery-caption">品牌展示区</div>
                </div>
            </div>
        </section>

        <section class="gallery">
            <h2>店铺环境</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1582142839970-2b9e04b60f65" alt="店铺前台">
                    <div class="gallery-caption">温馨接待区</div>
                </div>
                <div class="gallery-item">
                    <img src="https://www.xmaibu.com/public/uploads/cache/pic/attachment/image/Dior/MISDB1UXR-H4C0-580x580.WEBP" alt="展示区">
                    <div class="gallery-caption">产品展示区</div>
                </div>
                <div class="gallery-item">
                    <img src="https://ts1.cn.mm.bing.net/th/id/R-C.40997225bf6bbd37a4fee0bceada0cb7?rik=L4SD3YsZCXbZgg&riu=http%3a%2f%2fpic.secoo.com%2fproduct%2fyt%2f62%2f70%2f101510436270.jpg&ehk=fL7rbJiU3YZUjjLFdHhLm2LebPukwoGPiiup8PZ1Bu4%3d&risl=&pid=ImgRaw&r=0" alt="眼镜陈列">
                    <div class="gallery-caption">品牌镜墙</div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1577803645773-f96470509666" alt="验光室">
                    <div class="gallery-caption">专业验光室</div>
                </div>
            </div>
        </section>

        <section class="hero">
            <div class="container">
                <h1>视界由你定义</h1>
                <p>专业验光 30分钟快速配镜 · 时架</p>
                <a href="#stores" class="btn">查找附近门店</a>
            </div>
        </section>

        <section class="featured-products">
            <div class="container">
                <h2>热门系列</h2>
                <div class="product-grid">
                    <div class="product-card">
                        <img src="https://www.xmaibu.com/public/uploads/cache/pic/attachment/image/Armani/AR6115T.L300273.L48.L-580x580.WEBP" alt="防蓝光眼镜">
                        <div class="product-info">
                            <h3>SCREEN 防蓝光眼镜</h3>
                            <p>有效削减电子屏幕发散的蓝光</p>
                            <p class="product-price">￥299</p>
                            <div class="stock-info">库存：50副</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('screen-glasses', -1)">-</button>
                                <input type="number" id="quantity-screen-glasses" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('screen-glasses', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('screen-glasses', 'SCREEN 防蓝光眼镜', 299)">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://www.xmaibu.com/public/uploads/cache/pic/attachment/image/EmporioArmani/AR7166.L5026.L153.L-580x580.WEBP" alt="老花眼镜">
                        <div class="product-info">
                            <h3>READING 老花眼镜</h3>
                            <p>轻巧时尚的防蓝光老花镜</p>
                            <p class="product-price">￥399</p>
                            <div class="stock-info">库存：50副</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('reading-glasses', -1)">-</button>
                                <input type="number" id="quantity-reading-glasses" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('reading-glasses', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('reading-glasses', 'READING 老花眼镜', 399, '轻巧时尚的防蓝光老花镜')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://ts1.cn.mm.bing.net/th/id/R-C.2fad91516e2dcffc2c8daf1f31525d1e?rik=H59BvgdNZniT%2fA&riu=http%3a%2f%2fpic12.secooimg.com%2fpush%2f2023%2f0516%2fbd06913edb344a729b8836f567b6eeb0.jpg&ehk=bwd48BBhIi1nmP8q3cGiSZXgl2gOKR6YrMFbmZjneCA%3d&risl=&pid=ImgRaw&r=0" alt="偏光太阳镜">
                        <div class="product-info">
                            <h3>偏光太阳镜</h3>
                            <p>有效防护紫外线，减少眩光</p>
                            <p class="product-price">￥499</p>
                            <div class="stock-info">库存：50副</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('polarized-sunglasses', -1)">-</button>
                                <input type="number" id="quantity-polarized-sunglasses" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('polarized-sunglasses', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('polarized-sunglasses', '偏光太阳镜', 499, '有效防护紫外线，减少眩光')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://ts1.cn.mm.bing.net/th/id/R-C.8b0ef0f4c3bc3531d71e0b2fa284d013?rik=Xzz01ZMr%2f1woig&riu=http%3a%2f%2fwww.bala.cc%2fuploads%2fallimg%2f190920%2f1_190920161130_1_lit.jpg&ehk=Uf22bVuLtRujAyGv%2bzaJbo2q67uO2Xoyy64%2bc%2b6OTdM%3d&risl=&pid=ImgRaw&r=0&sres=1&sresct=1" alt="时尚墨镜">
                        <div class="product-info">
                            <h3>时尚墨镜</h3>
                            <p>潮流设计，百搭款式</p>
                            <p class="product-price">￥299</p>
                            <div class="stock-info">库存：50副</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('fashion-sunglasses', -1)">-</button>
                                <input type="number" id="quantity-fashion-sunglasses" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('fashion-sunglasses', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('fashion-sunglasses', '时尚墨镜', 299, '潮流设计，百搭款式')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://tse1-mm.cn.bing.net/th/id/OIP-C.IEywSOZNPwkb7tzmafFeMwHaE8?rs=1&pid=ImgDetMain" alt="运动太阳镜">
                        <div class="product-info">
                            <h3>运动太阳镜</h3>
                            <p>专业运动防护，稳固舒适</p>
                            <p class="product-price">￥599</p>
                            <div class="stock-info">库存：50副</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('sports-sunglasses', -1)">-</button>
                                <input type="number" id="quantity-sports-sunglasses" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('sports-sunglasses', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('sports-sunglasses', '运动太阳镜', 599, '专业运动防护，稳固舒适')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://img.alicdn.com/i3/2214749772623/O1CN01TqmwsX1VFNfCCL5qm_!!2214749772623.jpg" alt="日抛型隐形眼镜">
                        <div class="product-info">
                            <h3>日抛型隐形眼镜</h3>
                            <p>每日更换，卫生便捷</p>
                            <p class="product-price">￥199</p>
                            <div class="stock-info">库存：50片</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('daily-contacts', -1)">-</button>
                                <input type="number" id="quantity-daily-contacts" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('daily-contacts', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('daily-contacts', '日抛型隐形眼镜', 199, '每日更换，卫生便捷')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.womkiK9ZEvRHf9xD87wp7gHaE7?rs=1&pid=ImgDetMain" alt="月抛型隐形眼镜">
                        <div class="product-info">
                            <h3>月抛型隐形眼镜</h3>
                            <p>持久舒适，经济实惠</p>
                            <p class="product-price">￥99</p>
                            <div class="stock-info">库存：50片</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('monthly-contacts', -1)">-</button>
                                <input type="number" id="quantity-monthly-contacts" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('monthly-contacts', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('monthly-contacts', '月抛型隐形眼镜', 99, '持久舒适，经济实惠')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                    <div class="product-card">
                        <img src="https://img.alicdn.com/i2/1615368232/O1CN01SRBYdM2AgJEbXLmhM_!!1615368232.jpg" alt="彩色隐形眼镜">
                        <div class="product-info">
                            <h3>彩色隐形眼镜</h3>
                            <p>自然美瞳，多彩选择</p>
                            <p class="product-price">￥129</p>
                            <div class="stock-info">库存：50片</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity('color-contacts', -1)">-</button>
                                <input type="number" id="quantity-color-contacts" value="1" min="1" max="50" 
                                    onchange="validateQuantity(this, 50)">
                                <button class="quantity-btn plus" onclick="changeQuantity('color-contacts', 1)">+</button>
                            </div>
                            <button class="add-to-cart-btn" onclick="addToCart('color-contacts', '彩色隐形眼镜', 129, '自然美瞳，多彩选择')">
                                加入购物车
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 添加品牌承诺部分 -->
        <section class="promises">
            <div class="container">
                <h2 class="section-title">四大承诺</h2>
                <div class="promise-grid">
                    <!-- 快速配镜 -->
                    <div class="promise-item">
                        <img src="https://img.icons8.com/fluency/96/000000/clock--v1.png" alt="快速配镜">
                        <div class="promise-content">
                            <h3>30分钟快速配镜</h3>
                            <p>告别传统等待时间</p>
                        </div>
                    </div>
                    
                    <!-- 品质保证 -->
                    <div class="promise-item">
                        <img src="https://img.icons8.com/fluency/96/000000/verified-badge.png" alt="品质保证">
                        <h3>品质保证</h3>
                        <p>品保障 售后无忧</p>
                    </div>
                    
                    <!-- 专业服务 -->
                    <div class="promise-item">
                        <img src="https://img.icons8.com/fluency/96/000000/medical-doctor.png" alt="专业服务">
                        <h3>专业验光服务</h3>
                        <p>配备先进验光设备</p>
                    </div>
                    
                    <!-- 终身保养 -->
                    <div class="promise-item">
                        <img src="https://img.icons8.com/fluency/96/000000/service.png" alt="终身保养">
                        <h3>终身保养</h3>
                        <p>免费清洗调试</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 添加JavaScript制轮播 -->
        <script>
            const slider = document.querySelector('.slider');
            const dots = document.querySelectorAll('.slider-dot');
            let currentSlide = 0;
            
            // 轮播
            function autoSlide() {
                currentSlide = (currentSlide + 1) % 5;
                updateSlider();
            }
            
            // 新轮播位置和示器
            function updateSlider() {
                slider.style.transform = `translateX(-${currentSlide * 20}%)`;
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }
            
            // 点击指示器切换轮播
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentSlide = index;
                    updateSlider();
                    resetInterval();
                });
            });
            
            // 置自动轮播间隔
            let slideInterval = setInterval(autoSlide, 5000);
            
            // 重置
            function resetInterval() {
                clearInterval(slideInterval);
                slideInterval = setInterval(autoSlide, 5000);
            }
        </script>

        <section class="main-categories">
            <div class="container">
                <div class="product-category">
                    <div class="category-item">
                        <img src="https://cbu01.alicdn.com/img/ibank/2017/096/302/3918203690_1809935795.jpg" alt="SCREEN防蓝光眼镜">
                        <div class="category-content">
                            <h3>SCREEN</h3>
                            <p>有效削减电子屏幕发散的蓝光</p>
                            <a href="#screen" class="btn">了解更多</a>
                        </div>
                    </div>
                    <div class="category-item">
                        <img src="https://cbu01.alicdn.com/img/ibank/2017/096/302/3918203690_1809935795.jpg" alt="READING老花眼镜">
                        <div class="category-content">
                            <h3>READING</h3>
                            <p>轻巧时尚的防蓝光老花镜</p>
                            <a href="#reading" class="btn">了解更多</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 添加右侧悬浮的关注我们 -->
        <div class="float-social">
            <h3>关注我们</h3>
            <div class="social-links">
                <a href="#wechat">微信公众号</a>
                <a href="#weibo">官方微博</a>
                <a href="#douyin">抖音号</a>
            </div>
        </div>
    </div>

    <section class="contact-section">
        <div class="container">
            <div class="contact-info">
                <div class="contact-row">
                    <h3>客服信息</h3>
                    <p>客服电话：010-9999999</p>
                    <p>客服邮箱：aqa1236540@126.com</p>
                    <p>客服时间：9:00-12:30  13:30-18:00</p>
                    <p>（周六日、节假日除外）</p>
                </div>
                <div class="contact-row">
                    <h3>商务合作</h3>
                    <p>商务电话：021-8888-9999</p>
                    <p>商务邮箱：business@brighteyes.com</p>
                </div>
                <div class="contact-row">
                    <h3>关于我们</h3>
                    <p><a href="about.html">公司介绍</a></p>
                    <p><a href="news.html">新闻资讯</a></p>
                    <p><a href="careers.html">招贤纳士</a></p>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>© 2024 明亮眼镜 版所有</p>
            <p>ICP备案：京ICP备12345678-1</p>
        </div>
    </section>

    <!-- 添加搜索功��� -->
    <script>
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const searchBtn = document.querySelector('.search-btn');

        // 更新搜索相关的数和功能
        const searchData = {
            products: [
                {
                    id: 1,
                    type: 'product',
                    name: 'SCREEN 防蓝光眼镜',
                    category: '近视眼镜',
                    description: '有效削减电子屏幕发散的蓝光',
                    price: 299,
                    url: '/products/screen-glasses'
                }
            ],
            articles: [
                {
                    id: 1,
                    type: 'article',
                    title: '如何保护眼睛健康',
                    category: '健康知识',
                    summary: '长期用眼的正确方法和建议',
                    url: '/articles/eye-health'
                }
            ],
            stores: [
                {
                    id: 1,
                    type: 'store',
                    name: '北京中关村店',
                    address: '北京市海淀区中关村大街15号',
                    tel: '010-88888888',
                    url: '/stores/beijing-zhongguancun'
                }
            ],
            services: [
                {
                    id: 1,
                    type: 'service',
                    name: '专业验光',
                    description: '使用先进设备进行专业验光',
                    url: '/services/eye-test'
                }
            ]
        };

        // 更新搜索功能
        function performSearch(query) {
            if (!query) {
                searchResults.classList.remove('active');
                return;
            }

            const results = {
                products: searchData.products.filter(item => 
                    `${item.name} ${item.category} ${item.description}`.toLowerCase().includes(query.toLowerCase())
                ),
                articles: searchData.articles.filter(item => 
                    `${item.title} ${item.category} ${item.summary}`.toLowerCase().includes(query.toLowerCase())
                ),
                stores: searchData.stores.filter(item => 
                    `${item.name} ${item.address}`.toLowerCase().includes(query.toLowerCase())
                ),
                services: searchData.services.filter(item => 
                    `${item.name} ${item.description}`.toLowerCase().includes(query.toLowerCase())
                )
            };

            displayResults(results, query);
        }

        // 更新显示搜索结果的函数
        function displayResults(results, query) {
            const hasResults = Object.values(results).some(arr => arr.length > 0);
            
            if (!hasResults) {
                searchResults.innerHTML = `
                    <div class="no-results">
                        未找到相关内容
                    </div>
                `;
            } else {
                searchResults.innerHTML = `
                    ${results.products.length ? `
                        <div class="search-section">
                            <h4>产品</h4>
                            ${results.products.map(item => createResultItem(item, query)).join('')}
                        </div>
                    ` : ''}
                    
                    ${results.articles.length ? `
                        <div class="search-section">
                            <h4>文章</h4>
                            ${results.articles.map(item => createResultItem(item, query)).join('')}
                        </div>
                    ` : ''}
                    
                    ${results.stores.length ? `
                        <div class="search-section">
                            <h4>门店</h4>
                            ${results.stores.map(item => createResultItem(item, query)).join('')}
                        </div>
                    ` : ''}
                    
                    ${results.services.length ? `
                        <div class="search-section">
                            <h4>��务</h4>
                            ${results.services.map(item => createResultItem(item, query)).join('')}
                        </div>
                    ` : ''}
                `;
            }
            searchResults.classList.add('active');
        }

        // 创建搜索结果项
        function createResultItem(item, query) {
            switch(item.type) {
                case 'product':
                    return `
                        <div class="search-result-item" onclick="navigateTo('${item.url}')">
                            <div class="result-info">
                                <h5>${highlightMatch(item.name, query)}</h5>
                                <p>${highlightMatch(item.description, query)}</p>
                                <span class="price">￥${item.price}</span>
                            </div>
                        </div>
                    `;
                case 'article':
                    return `
                        <div class="search-result-item" onclick="navigateTo('${item.url}')">
                            <div class="result-info">
                                <h5>${highlightMatch(item.title, query)}</h5>
                                <p>${highlightMatch(item.summary, query)}</p>
                            </div>
                        </div>
                    `;
                case 'store':
                    return `
                        <div class="search-result-item" onclick="navigateTo('${item.url}')">
                            <div class="result-info">
                                <h5>${highlightMatch(item.name, query)}</h5>
                                <p>${highlightMatch(item.address, query)}</p>
                                <span class="tel">${item.tel}</span>
                            </div>
                        </div>
                    `;
                case 'service':
                    return `
                        <div class="search-result-item" onclick="navigateTo('${item.url}')">
                            <div class="result-info">
                                <h5>${highlightMatch(item.name, query)}</h5>
                                <p>${highlightMatch(item.description, query)}</p>
                            </div>
                        </div>
                    `;
            }
        }

        // 页面导航
        function navigateTo(url) {
            window.location.href = url;
        }

        // 事件监听
        searchInput.addEventListener('input', (e) => {
            performSearch(e.target.value.trim());
        });

        searchBtn.addEventListener('click', () => {
            performSearch(searchInput.value.trim());
        });

        // 点击外部关闭搜索结果
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                searchResults.classList.remove('active');
            }
        });

        // 键盘导航
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                performSearch(searchInput.value.trim());
            }
        });

        // 防抖函数
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // 用防抖优化搜索
        const debouncedSearch = debounce((query) => {
            performSearch(query);
        }, 300);

        searchInput.addEventListener('input', (e) => {
            debouncedSearch(e.target.value.trim());
        });
    </script>

    <!-- 添加用户下拉菜单控制 -->
    <script>
        // 账户下拉菜单控制
        document.addEventListener('DOMContentLoaded', () => {
            const accountDropdown = document.querySelector('.account-dropdown');
            const dropdownContent = document.querySelector('.dropdown-content');
            
            if (accountDropdown && dropdownContent) {
                // 点击账户按钮显示/隐藏下拉菜单
                accountDropdown.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    dropdownContent.classList.toggle('show');
                });

                // 点击��面其他地方关闭下拉菜单
                document.addEventListener('click', (e) => {
                    if (!accountDropdown.contains(e.target)) {
                        dropdownContent.classList.remove('show');
                    }
                });

                // 点击菜单项处理
                dropdownContent.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const href = link.getAttribute('href');
                        handleMenuItemClick(href);
                        dropdownContent.classList.remove('show');
                    });
                });
            }
        });

        // 处理菜单项点击
        function handleMenuItemClick(href) {
            switch (href) {
                case '/personal-info':
                    showProfileModal();
                    break;
                case '/order-details':
                    console.log('跳转到订单详情页面');
                    break;
                case '/change-password':
                    showChangePasswordModal();  // 调用显示修改密码模态框的函数
                    break;
                default:
                    console.log('未知页面');
            }
        }
    </script>

    <!-- 添加探索视界滑动控制脚本 -->
    <script>
        // 更新探索视界滑动控制脚本
        document.addEventListener('DOMContentLoaded', function() {
            const exploreSlider = document.querySelector('.explore-slider');
            const exploreSlides = document.querySelector('.explore-slides');
            const slides = document.querySelectorAll('.explore-slide');
            const dots = document.querySelectorAll('.explore-dot');
            const prevBtn = document.querySelector('.explore-prev');
            const nextBtn = document.querySelector('.explore-next');

            let currentSlide = 0;
            let startX = 0;
            let isDragging = false;

            // 更新滑���位置
            function updateSlidePosition(index) {
                currentSlide = index;
                exploreSlides.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // 更新活动状态
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === currentSlide);
                });
                
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === currentSlide);
                });
            }

            // 切换到下一张
            function nextSlide() {
                let next = (currentSlide + 1) % slides.length;
                updateSlidePosition(next);
            }

            // 切换到上一张
            function prevSlide() {
                let prev = (currentSlide - 1 + slides.length) % slides.length;
                updateSlidePosition(prev);
            }

            // 添加箭头按钮事件监听器
            if (prevBtn) {
                prevBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    prevSlide();
                });
            }

            if (nextBtn) {
                nextBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    nextSlide();
                });
            }

            // 点击导航点切换
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    updateSlidePosition(index);
                });
            });

            // 触摸事件处理
            exploreSlider.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = true;
                exploreSlides.style.transition = 'none';
            }, { passive: true });

            exploreSlider.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                
                const currentX = e.touches[0].clientX;
                const diff = startX - currentX;
                const transform = -currentSlide * 100 - (diff / exploreSlider.offsetWidth) * 100;
                exploreSlides.style.transform = `translateX(${transform}%)`;
            }, { passive: true });

            exploreSlider.addEventListener('touchend', (e) => {
                if (!isDragging) return;
                
                const diff = startX - e.changedTouches[0].clientX;
                const threshold = exploreSlider.offsetWidth * 0.2;
                
                exploreSlides.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                
                if (Math.abs(diff) > threshold) {
                    if (diff > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                } else {
                    updateSlidePosition(currentSlide);
                }
                
                isDragging = false;
            });

            // 自动播放
            let autoplayInterval = setInterval(nextSlide, 5000);

            // 鼠标悬停时暂停自动播放
            exploreSlider.addEventListener('mouseenter', () => {
                clearInterval(autoplayInterval);
            });

            exploreSlider.addEventListener('mouseleave', () => {
                autoplayInterval = setInterval(nextSlide, 5000);
            });

            // 初始化第一张幻灯片
            updateSlidePosition(0);
        });
    </script>

    <!-- 添加注册模态框 -->
    <div class="register-modal" id="registerModal">
        <div class="register-content">
            <span class="close-register">&times;</span>
            <h2>注册账号</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="email">邮箱</label>
                    <input type="email" id="email" required>
                    <button type="button" id="sendVerification">发送验证码</button>
                </div>
                <div class="form-group">
                    <label for="verificationCode">验证码</label>
                    <input type="text" id="verificationCode" required>
                </div>
                <div class="form-group">
                    <label for="password">密码</label>
                    <input type="password" id="password" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">确认密码</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                <button type="submit" class="register-btn">注册</button>
            </form>
        </div>
    </div>

    <!-- 注册功能 -->
    <script>
        const registerModal = document.getElementById('registerModal');
        const registerForm = document.getElementById('registerForm');
        const sendVerificationBtn = document.getElementById('sendVerification');
        const emailInput = document.getElementById('email');
        const verificationInput = document.getElementById('verificationCode');
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirmPassword');

        // 显示注册模态框
        function showRegisterModal() {
            registerModal.style.display = 'block';
        }

        // 关闭注册模态框
        document.querySelector('.close-register').onclick = function() {
            registerModal.style.display = 'none';
        }

        // 点击模态框外部关闭
        window.onclick = function(event) {
            if (event.target == registerModal) {
                registerModal.style.display = 'none';
            }
        }

        // 发送验证码
        let countdown = 60;
        sendVerificationBtn.addEventListener('click', async () => {
            const email = emailInput.value;
            if (!validateEmail(email)) {
                showError('请输入有效的邮箱地址');
                return;
            }

            try {
                // 这里应该调用后��API发送验证���
                await sendVerificationCode(email);
                
                // 开始倒计时
                sendVerificationBtn.disabled = true;
                let timer = setInterval(() => {
                    sendVerificationBtn.textContent = `${countdown}秒后重试`;
                    countdown--;
                    if (countdown < 0) {
                        clearInterval(timer);
                        sendVerificationBtn.disabled = false;
                        sendVerificationBtn.textContent = '发送验证码';
                        countdown = 60;
                    }
                }, 1000);
            } catch (error) {
                showError('发送验���码失败，请稍后重试');
            }
        });

        // 表单提交
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = emailInput.value;
            const verificationCode = verificationInput.value;
            const password = passwordInput.value;
            const confirmPassword = confirmPasswordInput.value;

            // 验证表单
            if (!validateForm(email, verificationCode, password, confirmPassword)) {
                return;
            }

            try {
                // 这里应该调用后端API进行注册
                await register(email, verificationCode, password);
                
                alert('注册成功！');
                registerModal.style.display = 'none';
                // 可以在这里自动登录用户
            } catch (error) {
                showError('注册失败，请�������重试');
            }
        });

        // 验证邮箱格式
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // 验证表单
        function validateForm(email, code, password, confirmPassword) {
            if (!validateEmail(email)) {
                showError('请输入有效的邮箱地址');
                return false;
            }

            if (!code) {
                showError('请输入验证码');
                return false;
            }

            if (password.length < 6) {
                showError('密码长度至少6位');
                return false;
            }

            if (password !== confirmPassword) {
                showError('两次输入的密码不一致');
                return false;
            }

            return true;
        }

        // 显示错误信��
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            
            // 移除之前的错误信息
            const oldError = registerForm.querySelector('.error-message');
            if (oldError) {
                oldError.remove();
            }
            
            registerForm.insertBefore(errorDiv, registerForm.firstChild);
        }

        // 模拟API调用
        async function sendVerificationCode(email) {
            // 这里应该是真实的API调用
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 1000);
            });
        }

        async function register(email, code, password) {
            // 这里应该是真实的API调用
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 1000);
            });
        }
    </script>

    <!-- 添加忘记密码模态框 -->
    <div class="forgot-modal" id="forgotModal">
        <div class="forgot-content">
            <span class="close-forgot">&times;</span>
            <h2>重置密码</h2>
            <form id="forgotForm">
                <div class="form-group">
                    <label for="forgotEmail">邮箱</label>
                    <input type="email" id="forgotEmail" required>
                    <button type="button" id="sendResetCode">发送验证码</button>
                </div>
                <div class="form-group">
                    <label for="resetCode">验证码</label>
                    <input type="text" id="resetCode" required>
                </div>
                <div class="form-group">
                    <label for="newPassword">新密码</label>
                    <input type="password" id="newPassword" required>
                </div>
                <div class="form-group">
                    <label for="confirmNewPassword">确认新密码</label>
                    <input type="password" id="confirmNewPassword" required>
                </div>
                <button type="submit" class="register-btn">重置密码</button>
            </form>
        </div>
    </div>

    <!-- 忘记密码功能 -->
    <script>
        const forgotModal = document.getElementById('forgotModal');
        const forgotForm = document.getElementById('forgotForm');
        const sendResetCodeBtn = document.getElementById('sendResetCode');
        const forgotEmailInput = document.getElementById('forgotEmail');
        const resetCodeInput = document.getElementById('resetCode');
        const newPasswordInput = document.getElementById('newPassword');
        const confirmNewPasswordInput = document.getElementById('confirmNewPassword');

        // 显示忘记密码模态框
        function showForgotModal() {
            const loginModal = document.getElementById('loginModal');
            const forgotModal = document.getElementById('forgotModal');
            const registerModal = document.getElementById('registerModal');
            
            // 隐藏其他模态框
            loginModal.style.display = 'none';
            registerModal.style.display = 'none';
            
            // 显示忘记密码模态框
            forgotModal.style.display = 'block';
        }

        // 返回登录模态框
        function backToLogin() {
            const loginModal = document.getElementById('loginModal');
            const forgotModal = document.getElementById('forgotModal');
            const registerModal = document.getElementById('registerModal');
            
            // 隐藏其他模态框
            forgotModal.style.display = 'none';
            registerModal.style.display = 'none';
            
            // 显示登录模态框
            loginModal.style.display = 'block';
        }

        // 更新忘记密码模态框的HTML结构
        document.querySelector('.forgot-modal .forgot-content').innerHTML = `
            <span class="close-forgot">&times;</span>
            <h2>重置密码</h2>
            <form id="forgotForm">
                <div class="form-group">
                    <label for="forgotEmail">邮箱</label>
                    <input type="email" id="forgotEmail" required>
                    <button type="button" id="sendResetCode">发送验证码</button>
                </div>
                <div class="form-group">
                    <label for="resetCode">验证码</label>
                    <input type="text" id="resetCode" required>
                </div>
                <div class="form-group">
                    <label for="newPassword">新密码</label>
                    <input type="password" id="newPassword" required>
                </div>
                <div class="form-group">
                    <label for="confirmNewPassword">确认新密码</label>
                    <input type="password" id="confirmNewPassword" required>
                </div>
                <button type="submit" class="register-btn">重置密码</button>
                <p class="login-prompt">
                    <a href="#" onclick="backToLogin()">返回登录</a>
                </p>
            </form>
        `;

        // 更新关闭按钮的处理
        document.addEventListener('DOMContentLoaded', () => {
            // 忘记密码模态框关闭按钮
            document.querySelector('.close-forgot').onclick = function() {
                document.getElementById('forgotModal').style.display = 'none';
            }

            // 点击模态框外部关闭
            window.onclick = function(event) {
                const loginModal = document.getElementById('loginModal');
                const registerModal = document.getElementById('registerModal');
                const forgotModal = document.getElementById('forgotModal');
                
                if (event.target == loginModal) {
                    loginModal.style.display = 'none';
                }
                if (event.target == registerModal) {
                    registerModal.style.display = 'none';
                }
                if (event.target == forgotModal) {
                    forgotModal.style.display = 'none';
                }
            }
        });

        // 发送重置验证码
        let resetCountdown = 60;
        sendResetCodeBtn.addEventListener('click', async () => {
            const email = forgotEmailInput.value;
            if (!validateEmail(email)) {
                showForgotError('请输入有效的邮箱地址');
                return;
            }

            try {
                await sendResetVerificationCode(email);
                
                // 开始倒计时
                sendResetCodeBtn.disabled = true;
                let timer = setInterval(() => {
                    sendResetCodeBtn.textContent = `${resetCountdown}稍后重试`;
                    resetCountdown--;
                    if (resetCountdown < 0) {
                        clearInterval(timer);
                        sendResetCodeBtn.disabled = false;
                        sendResetCodeBtn.textContent = '发送验证码';
                        resetCountdown = 60;
                    }
                }, 1000);
            } catch (error) {
                showForgotError('发送验证码失败，请稍后重试');
            }
        });

        // 提交重置密码表单
        forgotForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = forgotEmailInput.value;
            const code = resetCodeInput.value;
            const newPassword = newPasswordInput.value;
            const confirmNewPassword = confirmNewPasswordInput.value;

            if (!validateResetForm(email, code, newPassword, confirmNewPassword)) {
                return;
            }

            try {
                await resetPassword(email, code, newPassword);
                alert('密码重置成功');
                forgotModal.style.display = 'none';
            } catch (error) {
                showForgotError('密码重置失败，请稍后重试');
            }
        });

        // 验证重置密码表单
        function validateResetForm(email, code, newPassword, confirmNewPassword) {
            if (!validateEmail(email)) {
                showForgotError('请输入有效的邮箱地址');
                return false;
            }

            if (!code) {
                showForgotError('请输入验证码');
                return false;
            }

            if (newPassword.length < 6) {
                showForgotError('密码长度至少6位数');
                return false;
            }

            if (newPassword !== confirmNewPassword) {
                showForgotError('再次输入的密码不一致');
                return false;
            }

            return true;
        }

        // 显示错误信息
        function showForgotError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            
            const oldError = forgotForm.querySelector('.error-message');
            if (oldError) {
                oldError.remove();
            }
            
            forgotForm.insertBefore(errorDiv, forgotForm.firstChild);
        }

        // 模拟API调用
        async function sendResetVerificationCode(email) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 1000);
            });
        }

        async function resetPassword(email, code, newPassword) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 1000);
            });
        }
    </script>

    <!-- 移动端菜单控制 -->
    <script>
        // 移动端菜单控制
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
            });
            
            // 点击导航链接后关闭菜单
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                });
            });
            
            // 点击页面其他地方关闭菜单
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.nav-bar')) {
                    navLinks.classList.remove('active');
                }
            });
        });

        // 添加触摸滑���支持
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchEndX - touchStartX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // 向右��动
                    document.querySelector('.nav-links').classList.remove('active');
                } else {
                    // 向左滑动
                    document.querySelector('.nav-links').classList.add('active');
                }
            }
        }
    </script>

    <!-- 添加购物车模态框 -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h3>购物车</h3>
            <span class="close-cart">&times;</span>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- 购物车商品将在这里动态添加 -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>总计:</span>
                <span class="total-amount">¥0</span>
            </div>
            <div class="payment-methods">
                <button class="payment-btn alipay" onclick="checkout('alipay')">
                    <img src="path/to/alipay-icon.png" alt="支付宝支付">
                    支付宝支付
                </button>
                <button class="payment-btn wechat" onclick="checkout('wechat')">
                    <img src="path/to/wechat-icon.png" alt="微信支付">
                    微信支付
                </button>
            </div>
        </div>
    </div>

    <!-- 购物车功能 -->
    <script>
        // 修改购物车数据结构，添加选中状态
        let cart = [];

        // 更新购物车显示函数
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const totalPrice = document.querySelector('.total-price');
            const totalItems = document.querySelector('.total-items');
            
            // 获取购物车数据
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // 更新购物车列表
            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <input type="checkbox" 
                           class="cart-item-checkbox" 
                           ${item.selected ? 'checked' : ''} 
                           onchange="toggleItemSelection(${item.id})"
                    >
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">¥${item.price.toFixed(2)} × ${item.quantity}</div>
                    </div>
                    <div class="quantity-controls">
                        <button onclick="updateQuantity(${item.id}, ${item.quantity - 1})">-</button>
                        <span>${item.quantity}</span>
                        <button onclick="updateQuantity(${item.id}, ${item.quantity + 1})">+</button>
                    </div>
                    <button class="remove-item" onclick="removeFromCart(${item.id})">×</button>
                </div>
            `).join('');
            
            // 更新选中商品的总价和数量
            const selectedItems = cart.filter(item => item.selected);
            const total = selectedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);
            const totalQuantity = selectedItems.reduce((sum, item) => sum + item.quantity, 0);
            
            totalPrice.textContent = `¥${total.toFixed(2)}`;
            totalItems.textContent = totalQuantity;
            
            // 保存到 localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // 添加商品选择切换函数
        function toggleItemSelection(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.selected = !item.selected;
                updateCart();
            }
        }

        // 修改结算函数
        function proceedToCheckout() {
            const selectedItems = cart.filter(item => item.selected);
            if (selectedItems.length === 0) {
                alert('请选择要结算的商品');
                return;
            }
            
            const total = selectedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);
            document.getElementById('paymentAmount').textContent = `¥${total.toFixed(2)}`;
            document.getElementById('paymentModal').style.display = 'block';
        }

        // 修改支付成功处理函数
        function handlePaymentSuccess() {
            // 只移除选中的商品
            cart = cart.filter(item => !item.selected);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
            
            document.getElementById('paymentModal').style.display = 'none';
            alert('支付成功！');
        }

        // 页面加载时初始化购物车
        document.addEventListener('DOMContentLoaded', () => {
            // 清除可能存在的旧数据
            localStorage.removeItem('cart');
            // 初始化空购物车
            cart = [];
            updateCart();
        });

        const cartModal = document.getElementById('cartModal');
        const cartItems = document.getElementById('cartItems');
        const cartCount = document.querySelector('.cart-count');
        const totalAmount = document.querySelector('.total-amount');

        // 显示/隐藏购物车
        function toggleCart() {
            const cartModal = document.getElementById('cartModal');
            const cartIcon = document.querySelector('.cart-icon');
            const isVisible = cartModal.style.display === 'block';
            
            if (isVisible) {
                cartModal.style.display = 'none';
                return;
            }
            
            // 获取购物车图标的位置信息
            const cartIconRect = cartIcon.getBoundingClientRect();
            const navBar = document.querySelector('.nav-bar');
            const navHeight = navBar.offsetHeight;
            
            // 设置购物车模态框的位置
            cartModal.style.top = `${navHeight}px`;
            cartModal.style.right = `${window.innerWidth - cartIconRect.right}px`;
            cartModal.style.display = 'block';
            
            // 点击外部关闭
            const closeOnClickOutside = (e) => {
                if (!cartModal.contains(e.target) && !e.target.closest('.cart-icon')) {
                    cartModal.style.display = 'none';
                    document.removeEventListener('click', closeOnClickOutside);
                }
            };
            
            setTimeout(() => {
                document.addEventListener('click', closeOnClickOutside);
            }, 0);
        }

        // 关闭购物车
        document.querySelector('.close-cart').onclick = function() {
            cartModal.style.display = 'none';
        }

        // 修改添加到购物车函数
        function addToCart(id, name, price) {
            const quantity = parseInt(document.getElementById(`quantity-${id}`).value) || 1;
            // 获取最新的购物车数据
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            const existingItem = cart.find(item => item.id === id);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: id,
                    name: name,
                    price: price,
                    quantity: quantity,
                    selected: false
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
        }

        // 更新购物车显示
        function updateCart() {
            cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
            
            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">¥${item.price.toFixed(2)}</div>
                    </div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                    </div>
                    <div class="remove-item" onclick="removeItem(${item.id})">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                            <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    </div>
                </div>
            `).join('');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">购物车是空的</div>';
            }
            
            totalAmount.textContent = `¥${calculateTotal().toFixed(2)}`;
        }

        // 更新商品数量
        function updateQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity = Math.max(0, item.quantity + change);
                if (item.quantity === 0) {
                    removeItem(id);
                } else {
                    updateCart();
                }
            }
        }

        // 移除商品
        function removeItem(id) {
            cart = cart.filter(item => item.id !== id);
            updateCart();
        }

        // 计算总价
        function calculateTotal() {
            return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }

        // 结算功能
        async function checkout() {
            if (cart.length === 0) {
                alert('购物车是空的！');
                return;
            }
            
            try {
                // 这里应该调用支付API
                const response = await processPayment({
                    items: cart,
                    total: calculateTotal()
                });
                
                if (response.success) {
                    alert('支付成功！');
                    cart = [];
                    updateCart();
                    cartModal.style.display = 'none';
                }
            } catch (error) {
                alert('支付失败，请稍后重试');
            }
        }

        // 模拟支付处理
        async function processPayment(orderData) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve({ success: true });
                }, 1000);
            });
        }

        // 点击页面其���地方关闭购物车
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.cart-modal') && !e.target.closest('.cart-icon')) {
                cartModal.style.display = 'none';
            }
        });

        // 更新滚动处理
        window.addEventListener('scroll', () => {
            const cartModal = document.getElementById('cartModal');
            if (cartModal.style.display === 'block') {
                const cartIcon = document.querySelector('.cart-icon');
                const cartIconRect = cartIcon.getBoundingClientRect();
                const navBar = document.querySelector('.nav-bar');
                const navHeight = navBar.offsetHeight;
                
                cartModal.style.top = `${navHeight}px`;
                cartModal.style.right = `${window.innerWidth - cartIconRect.right}px`;
            }
        });
    </script>

    <!-- 商品数量控制 -->
    <script>
        // 商品数量控制
        function changeQuantity(productId, change) {
            const input = document.getElementById(`quantity-${productId}`);
            const newValue = Math.max(1, parseInt(input.value) + change);
            input.value = newValue;
            updateProductQuantity(productId, newValue);
        }

        function updateProductQuantity(productId, quantity) {
            const input = document.getElementById(`quantity-${productId}`);
            input.value = Math.max(1, parseInt(quantity));
        }
    </script>

    <!-- 在页面加载时获取商品数据 -->
    <script>
        // 在页面加载时获取商品数据
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('/api/products');
                const products = await response.json();
                
                // 更新推荐商品
                const featuredProducts = products.filter(p => p.featured);
                updateFeaturedProducts(featuredProducts);
                
                // 更新分类商品
                updateCategoryProducts(products);
            } catch (error) {
                console.error('加载商品失败:', error);
            }
        });

        // 更新推荐商品展示
        function updateFeaturedProducts(products) {
            const featuredGrid = document.querySelector('.product-grid');
            featuredGrid.innerHTML = products.map(product => `
                <div class="product-card">
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <p class="product-price">￥${product.price}</p>
                        <div class="product-quantity">
                            <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
                            <input type="number" value="1" min="1" id="quantity-${product.id}" 
                                onchange="updateProductQuantity(${product.id}, this.value)">
                            <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart(${product.id}, '${product.name}', ${product.price})">
                            加入购物车
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // 更新分类商品展示
        function updateCategoryProducts(products) {
            const categories = ['近视眼镜', '太阳镜', '老花眼镜', '隐形眼镜', '防蓝光眼镜'];
            
            categories.forEach(category => {
                const categoryProducts = products.filter(p => p.category === category);
                const categorySection = document.querySelector(`#${category}-section`);
                if (categorySection) {
                    categorySection.innerHTML = categoryProducts.map(product => `
                        <div class="product-card">
                            <img src="${product.image}" alt="${product.name}">
                            <div class="product-info">
                                <h3>${product.name}</h3>
                                <p>${product.description}</p>
                                <p class="product-price">￥${product.price}</p>
                                <div class="product-quantity">
                                    <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
                                    <input type="number" value="1" min="1" id="quantity-${product.id}" 
                                        onchange="updateProductQuantity(${product.id}, this.value)">
                                    <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
                                </div>
                                <button class="add-to-cart-btn" onclick="addToCart(${product.id}, '${product.name}', ${product.price})">
                                    加入购物车
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            });
        }
    </script>

    <!-- 添加实时问答窗口 -->
    <div class="chat-widget" id="chatWidget">
        <div class="chat-header" onclick="toggleChat()">
            <span class="chat-icon">👩‍💼</span>
            <span class="chat-title">智能客服</span>
            <span class="chat-minimize">−</span>
        </div>
        <div class="chat-body">
            <div class="chat-messages" id="chatMessages">
                <div class="message system welcome">
                    您好！我是明亮眼镜店的智能客服小明，很高兴为您服务！
                </div>
                <div class="message system quick-replies">
                    <div class="quick-reply" onclick="sendQuickReply('产品价格')">产品价格</div>
                    <div class="quick-reply" onclick="sendQuickReply('配镜流程')">配镜流程</div>
                    <div class="quick-reply" onclick="sendQuickReply('门店地址')">门店地址</div>
                    <div class="quick-reply" onclick="sendQuickReply('售后服务')">售后服务</div>
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chatInput" placeholder="请输入您的问题...">
                <button onclick="sendMessage()">发送</button>
            </div>
        </div>
    </div>

    <!-- 实时问答功能 -->
    <script>
        // 实时问答功能
        const chatWidget = document.getElementById('chatWidget');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');

        // 切换聊天窗口
        function toggleChat() {
            const chatWidget = document.getElementById('chatWidget');
            const chatBody = document.querySelector('.chat-body');
            
            // 检查是否是移动端
            if (window.innerWidth <= 768) {
                if (!chatWidget.classList.contains('expanded')) {
                    // 展开聊天窗口
                    chatWidget.classList.add('expanded');
                    document.body.style.overflow = 'hidden'; // 防止背景滚动
                    chatBody.style.display = 'flex';
                    setTimeout(() => {
                        chatInput.focus();
                    }, 300);
                } else {
                    // 收起聊天窗口
                    chatWidget.classList.remove('expanded');
                    document.body.style.overflow = '';
                    chatBody.style.display = 'none';
                }
            } else {
                // PC端逻辑
                if (chatBody.style.display === 'none') {
                    chatBody.style.display = 'flex';
                    document.querySelector('.chat-minimize').textContent = '−';
                } else {
                    chatBody.style.display = 'none';
                    document.querySelector('.chat-minimize').textContent = '+';
                }
            }
        }

        // 发送消息
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            addMessage(message, 'user');
            input.value = '';
            
            // 立即滚动到底部
            scrollToBottom(true);
            
            // 自动回复
            setTimeout(() => {
                const response = getSmartResponse(message);
                if (Array.isArray(response)) {
                    response.forEach((text, index) => {
                        setTimeout(() => {
                            addMessage(text, 'system');
                            scrollToBottom(true);
                        }, index * 300); // 减��延迟时间
                    });
                } else {
                    addMessage(response, 'system');
                    scrollToBottom(true);
                }
            }, 300); // 减少延迟时间
        }

        // 添加平滑滚动函数
        function scrollToBottom(smooth = false) {
            const messages = document.getElementById('chatMessages');
            if (smooth) {
                messages.scrollTo({
                    top: messages.scrollHeight,
                    behavior: 'smooth'
                });
            } else {
                messages.scrollTop = messages.scrollHeight;
            }
        }

        // 更新添加消息函数
        function addMessage(text, type) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.textContent = text;
            
            // 添加消息时间
            const timeDiv = document.createElement('div');
            timeDiv.className = 'message-time';
            timeDiv.textContent = new Date().toLocaleTimeString('zh-CN', {
                hour: '2-digit',
                minute: '2-digit'
            });
            
            messageDiv.appendChild(timeDiv);
            messagesDiv.appendChild(messageDiv);
            
            // 自动滚动
            scrollToBottom(true);
        }

        // 回车发送消息
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // 自动回复逻辑
        function getSmartResponse(message) {
            const responses = {
                '价格': '我们的眼镜价格从￥199起，具体价格取决于镜片和镜框的选择。',
                '配镜': '您可以到店进行专业验光，大约30分钟即可完����镜。',
                '地址': '我们的门店地址是：XX市XX区XX街XX号。',
                '营业时间': '我们营业时间是：周一至周日 9:00-21:00。',
                '保修': '我们提供一年免费保修服务终身免费清洗调试。'
            };
            
            for (let keyword in responses) {
                if (message.includes(keyword)) {
                    return responses[keyword];
                }
            }
            
            return '您好，请问还有什么可以帮您？如需了解具体信息，建议您到店咨询或拨打客服电话。';
        }
    </script>

    <!-- 添加关闭聊天窗口功能 -->
    <script>
        // 添加关闭聊天窗口功能
        function closeChat(event) {
            event.stopPropagation();
            const chatWidget = document.getElementById('chatWidget');
            const chatBody = document.querySelector('.chat-body');
            
            if (window.innerWidth <= 768) {
                chatWidget.classList.remove('expanded');
            }
            chatBody.style.display = 'none';
        }

        // 添加点击空白区域关闭聊天窗��
        document.addEventListener('click', (e) => {
            const chatWidget = document.getElementById('chatWidget');
            if (window.innerWidth <= 768 && 
                !e.target.closest('.chat-widget') && 
                chatWidget.classList.contains('expanded')) {
                chatWidget.classList.remove('expanded');
                document.querySelector('.chat-body').style.display = 'none';
            }
        });
    </script>

    <!-- 更新智能客服功能 -->
    <script>
        // 更新智能客服功能
        const chatResponses = {
            '产品价格': [
                '我们的产品价格范围如下：',
                '- 近视眼镜：￥199-￥1999',
                '- 太阳镜：￥299-￥2999',
                '- 老花眼镜：￥159-￥899',
                '- 隐形眼镜：￥99-￥299/片',
                '具体价格取决于镜片和镜框的选择，建议您到店详询。'
            ],
            '配镜流程': [
                '配镜流程非常简单：',
                '1. 专业验光（约15-20分钟）',
                '2. 选择镜框和镜片（工作人员会提供专业建议）',
                '3. 测量参数（约5-10分钟）',
                '4. 加工制作（约30分钟）',
                '5. 试戴调试（约5-10分钟）',
                '整个过程约1小时即可完成。'
            ],
            '门店地址': [
                '我们的门店分布如下：',
                '【总店】XX市XX区XX街XX号',
                '【分店1】XX市XX区XX路XX号',
                '【分店2】XX市XX区XX大道XX号',
                '营业时间：周一至周日 9:00-21:00'
            ],
            '售后服务': [
                '我们提供以下售后服务：',
                '1. 免费清洗调试（终身）',
                '2. 免费更换鼻托、螺丝等配件',
                '3. 180天无理由换镜片',
                '4. 15天内免费重新验光',
                '5. 一年质保服务'
            ]
        };

        // 添加更多智能回复模式
        const keywords = {
            '价格|多少钱|费用': '产品价格',
            '配镜|验光|制作': '配镜流程',
            '地址|位置|在哪|怎么去': '门店地址',
            '保修|售后|保养': '售后服务',
            '你好|您好|在吗': '您好！请问有什么可以帮您？',
            '谢谢|感谢': '不客气！很高兴能帮到您。',
            '再见|拜拜': '感谢您的咨询，欢迎下次再来！'
        };

        // 发送消息
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            // 添加用户消息
            addMessage(message, 'user');
            input.value = '';

            // 智能回复
            setTimeout(() => {
                const response = getSmartResponse(message);
                if (Array.isArray(response)) {
                    response.forEach((text, index) => {
                        setTimeout(() => {
                            addMessage(text, 'system');
                        }, index * 500);
                    });
                } else {
                    addMessage(response, 'system');
                }
            }, 500);
        }

        // 快速回复
        function sendQuickReply(type) {
            addMessage(type, 'user');
            setTimeout(() => {
                const response = chatResponses[type];
                response.forEach((text, index) => {
                    setTimeout(() => {
                        addMessage(text, 'system');
                    }, index * 500);
                });
            }, 500);
        }

        // 智能回复逻辑
        function getSmartResponse(message) {
            // 检查是否匹配预设关键词
            for (let key in keywords) {
                const regex = new RegExp(key);
                if (regex.test(message)) {
                    const response = keywords[key];
                    return chatResponses[response] || response;
                }
            }

            // 如果没有匹配到关键词，进行模糊匹配
            const responses = [
                '抱歉，我可能没有完全理解您的问题。您可以：',
                '1. 点击上方快速问答按钮',
                '2. 拨打客服热线：400-XXX-XXXX',
                '3. 到店详细咨询'
            ];
            return responses;
        }

        // 添加消息到聊天窗口
        function addMessage(text, type) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.textContent = text;
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // 回车发送消息
        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // 添加智能提示功能
        let typingTimer;
        document.getElementById('chatInput').addEventListener('input', (e) => {
            clearTimeout(typingTimer);
            typingTimer = setTimeout(() => {
                const input = e.target.value.trim().toLowerCase();
                if (input.length > 1) {
                    // 检查是否有匹配的快速回复
                    const matches = Object.keys(chatResponses).filter(key => 
                        key.toLowerCase().includes(input)
                    );
                    if (matches.length > 0) {
                        addMessage('您是想问以下问题吗？', 'system');
                        const quickReplies = document.createElement('div');
                        quickReplies.className = 'message system quick-replies';
                        quickReplies.innerHTML = matches.map(match => 
                            `<div class="quick-reply" onclick="sendQuickReply('${match}')">${match}</div>`
                        ).join('');
                        document.getElementById('chatMessages').appendChild(quickReplies);
                    }
                }
            }, 500);
        });
    </script>

    <!-- 添加输入框焦点处理 -->
    <script>
        document.getElementById('chatInput').addEventListener('focus', () => {
            if (window.innerWidth <= 768) {
                setTimeout(() => {
                    scrollToBottom(false);
                }, 300);
            }
        });
    </script>

    <!-- 添加返回按钮处理 -->
    <script>
        document.querySelector('.chat-minimize').addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                e.stopPropagation();
                const chatWidget = document.getElementById('chatWidget');
                if (chatWidget.classList.contains('expanded')) {
                    chatWidget.classList.remove('expanded');
                    document.body.style.overflow = '';
                    document.querySelector('.chat-body').style.display = 'none';
                }
            }
        });
    </script>

    <!-- 监听键盘弹出 -->
    <script>
        window.addEventListener('resize', () => {
            if (window.innerWidth <= 768) {
                scrollToBottom(false);
            }
        });
    </script>

    <!-- 在 </body> 标签前添加以下脚本 -->
    <script>
        // 禁用右键菜单
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // 禁用键盘快捷键
        document.addEventListener('keydown', function(e) {
            // 禁用 Ctrl + C, Ctrl + V, Ctrl + S, Ctrl + U, Ctrl + P, F12
            if (
                (e.ctrlKey && (e.keyCode === 67 || e.keyCode === 86 || e.keyCode === 83 || e.keyCode === 85 || e.keyCode === 80)) ||
                e.keyCode === 123
            ) {
                e.preventDefault();
                return false;
            }
        });

        // 禁用复制
        document.addEventListener('copy', function(e) {
            // 允许在输入框和文本框中复制
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });

        // 禁用剪切
        document.addEventListener('cut', function(e) {
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });

        // 禁用粘贴
        document.addEventListener('paste', function(e) {
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });

        // 禁用拖拽
        document.addEventListener('dragstart', function(e) {
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });

        // 禁用开发者工具快捷键
        document.addEventListener('keydown', function(e) {
            // 禁用 F12, Ctrl + Shift + I, Ctrl + Shift + J, Ctrl + Shift + C
            if (
                e.keyCode === 123 || 
                (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 67))
            ) {
                e.preventDefault();
                return false;
            }
        });

        // 添加提示信息
        document.addEventListener('selectstart', function(e) {
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });

        // 监听开发者工具的打开
        let devtools = function() {};
        devtools.toString = function() {
            showWarning();
            return '';
        }
        console.log('%c', devtools);

        // 显示警告信息
        function showWarning() {
            console.clear();
            console.log('%c⚠️ 警告!', 'color: red; font-size: 30px; font-weight: bold;');
            console.log('%c本网站内容受版权保护!', 'color: red; font-size: 20px;');
        }

        // 定期检查开发者工具状态
        setInterval(function() {
            const widthThreshold = window.outerWidth - window.innerWidth > 160;
            const heightThreshold = window.outerHeight - window.innerHeight > 160;
            if (widthThreshold || heightThreshold) {
                showWarning();
            }
        }, 1000);
    </script>

    <!-- 添加登录模态框 -->
    <div class="login-modal" id="loginModal">
        <div class="login-content">
            <span class="close-login">&times;</span>
            <h2>用户登录</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">邮箱</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">密码</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-options">
                    <label>
                        <input type="checkbox" id="rememberMe"> 记住我
                    </label>
                    <a href="#" onclick="showForgotModal()" class="forgot-password">忘记密码？</a>
                </div>
                <button type="submit" class="login-btn">登录</button>
                <p class="register-prompt">
                    还没有账号？<a href="#" onclick="showRegisterModal()">立即注册</a>
                </p>
            </form>
        </div>
    </div>

    <!-- 添加登录相关脚本 -->
    <script>
    // 登录状态管理
    let isLoggedIn = false;
    let currentUser = null;

    // 检查登录状态
    function checkLoginStatus() {
        // 从localStorage获取用户信息
        const savedUser = localStorage.getItem('currentUser');
        if (savedUser) {
            currentUser = JSON.parse(savedUser);
            isLoggedIn = true;
            updateUIForLoggedInUser();
        }
    }

    // 更新UI显示登录状态
    function updateUIForLoggedInUser() {
        const loginButton = document.getElementById('loginButton');
        const accountDropdown = document.getElementById('accountDropdown');
        const userNameDisplay = document.getElementById('userNameDisplay');
        
        if (isLoggedIn && currentUser) {
            loginButton.style.display = 'none';
            accountDropdown.style.display = 'block';
            userNameDisplay.textContent = currentUser.email.split('@')[0];
        } else {
            loginButton.style.display = 'block';
            accountDropdown.style.display = 'none';
            userNameDisplay.textContent = '';
        }
    }

    // 显示登录模态框
    function showLoginModal() {
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        registerModal.style.display = 'none'; // 确保注册模态框隐藏
        loginModal.style.display = 'block';
    }

    // 关闭登录模态框
    document.querySelector('.close-login').onclick = function() {
        document.getElementById('loginModal').style.display = 'none';
    }

    // 处理登录表单提交
    document.getElementById('loginForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        const rememberMe = document.getElementById('rememberMe').checked;
        
        try {
            // 这里应该是真实的登录API调用
            // 模拟登录成功
            const response = await simulateLogin(email, password);
            
            if (response.success) {
                currentUser = {
                    email: email,
                    // 其他用��信息...
                };
                
                isLoggedIn = true;
                
                // 如果选择了"记住我"，保存用户信息
                if (rememberMe) {
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                }
                
                // 更新UI
                updateUIForLoggedInUser();
                
                // 关闭登录模态框
                document.getElementById('loginModal').style.display = 'none';
                
                // 显示成功消息
                alert('登录成功！');
            }
        } catch (error) {
            alert('登录失败，请检查邮箱和密码！');
        }
    });

    // 退出登录
    function logout() {
        isLoggedIn = false;
        currentUser = null;
        localStorage.removeItem('currentUser');
        updateUIForLoggedInUser();
    }

    // 在模拟登录API调用函数中添加测试账号验证
    async function simulateLogin(email, password) {
        return new Promise((resolve, reject) => {
            // 添加测试账号
            const testAccount = {
                email: 'test@example.com',
                password: '123456'
            };

            // 验证测试账号
            if (email === testAccount.email && password === testAccount.password) {
                setTimeout(() => {
                    resolve({ success: true });
                }, 1000);
            } else {
                setTimeout(() => {
                    reject(new Error('邮箱或密码错误'));
                }, 1000);
            }
        });
    }

    // 页面加载时检查登录状态
    document.addEventListener('DOMContentLoaded', () => {
        checkLoginStatus();
    });

    // 点击页面其他地方关闭模态框
    window.onclick = function(event) {
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        const forgotModal = document.getElementById('forgotModal');
        
        if (event.target == loginModal) {
            loginModal.style.display = 'none';
        }
        if (event.target == registerModal) {
            registerModal.style.display = 'none';
        }
        if (event.target == forgotModal) {
            forgotModal.style.display = 'none';
        }
    }

    // 显示注册模态框
    function showRegisterModal() {
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        loginModal.style.display = 'none'; // 隐藏登录模态框
        registerModal.style.display = 'block';
    }

    // 关闭按钮处理
    document.querySelector('.close-register').onclick = function() {
        document.getElementById('registerModal').style.display = 'none';
    }
    </script>

    <!-- 登录容器部分 -->
 
     

    <!-- 注册容器部分 -->
    <div class="register-container" style="display: none;">
        <!-- 现有注册表单内容 -->
        <p>已有账号？<a href="#" class="to-login">返回登录</a></p>
    </div>

    <!-- 添加支付弹窗 -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-content">
            <span class="close-payment">&times;</span>
            <h3 class="payment-title">请扫码支付</h3>
            <div class="payment-amount">支付金额：<span id="paymentAmount">¥0</span></div>
            <div class="payment-qrcode">
                <img id="paymentQRCode" src="" alt="支付二维码">
                <div class="payment-loading">
                    <div class="spinner"></div>
                    <p>正在生成支付二维码...</p>
                </div>
            </div>
            <div class="payment-status" id="paymentStatus">等待支付...</div>
            <div class="order-info">
                <p>订单号：<span id="orderNumber"></span></p>
                <p>下单时间：<span id="orderTime"></span></p>
            </div>
        </div>
    </div>

    <!-- 添加订单列表模态框 -->
    <div class="orders-modal" id="ordersModal">
        <div class="orders-content">
            <span class="close-orders">&times;</span>
            <h3>我的订单</h3>
            <div class="order-tabs">
                <button class="order-tab active" data-status="all">全部订单</button>
                <button class="order-tab" data-status="pending">待付款</button>
                <button class="order-tab" data-status="paid">待发货</button>
                <button class="order-tab" data-status="shipped">待收货</button>
                <button class="order-tab" data-status="review">待评价</button>
            </div>
            <div class="orders-list" id="ordersList">
                <!-- 订单将在这里动态添加 -->
            </div>
        </div>
    </div>

    <!-- 添加实名认证模态框 -->
    <div class="verify-modal" id="verifyModal">
        <div class="verify-content">
            <span class="close-verify">&times;</span>
            <h3>实名认证</h3>
            <div class="verify-form">
                <div class="form-group">
                    <label>真实姓名</label>
                    <input type="text" id="realName" placeholder="请输入真实姓名">
                </div>
                <div class="form-group">
                    <label>身份证号</label>
                    <input type="text" id="idNumber" placeholder="请输入18位身份证号">
                </div>
                <div class="id-card-upload">
                    <div class="upload-section">
                        <label>身份证正面照片</label>
                        <div class="upload-area" id="frontUpload">
                            <i class="fas fa-plus"></i>
                            <span>上传正面照片</span>
                            <input type="file" accept="image/*" style="display: none;">
                        </div>
                    </div>
                    <div class="upload-section">
                        <label>身份证背面照片</label>
                        <div class="upload-area" id="backUpload">
                            <i class="fas fa-plus"></i>
                            <span>上传背面照片</span>
                            <input type="file" accept="image/*" style="display: none;">
                        </div>
                    </div>
                </div>
                <button class="submit-verify-btn">提交认证</button>
            </div>
        </div>
    </div>

    <!-- 添加更换手机号模态框 -->
    <div class="change-phone-modal" id="changePhoneModal">
        <div class="change-phone-content">
            <span class="close-change-phone">&times;</span>
            <h3>更换手机号</h3>
            <div class="change-phone-form">
                <div class="form-group">
                    <label>新手机号</label>
                    <input type="text" id="newPhone" placeholder="请输入新手机号">
                </div>
                <div class="form-group">
                    <label>验证码</label>
                    <div class="verify-code-section">
                        <input type="text" id="phoneVerifyCode" placeholder="请输入验证码">
                        <button id="sendPhoneCode">发送验证码</button>
                    </div>
                </div>
                <button class="submit-phone-btn">确认更换</button>
            </div>
        </div>
    </div>

    <!-- 添加相关脚本 -->
    <script>
    // 实名认证相关功能
    document.getElementById('verifyBtn').addEventListener('click', () => {
        document.getElementById('verifyModal').style.display = 'block';
    });

    document.querySelector('.close-verify').addEventListener('click', () => {
        document.getElementById('verifyModal').style.display = 'none';
    });

    // 身份证照片上传
    ['frontUpload', 'backUpload'].forEach(id => {
        const uploadArea = document.getElementById(id);
        const input = uploadArea.querySelector('input');
        
        uploadArea.addEventListener('click', () => {
            input.click();
        });
        
        input.addEventListener('change', (e) => {
            if (e.target.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    uploadArea.style.backgroundImage = `url(${e.target.result})`;
                    uploadArea.style.backgroundSize = 'cover';
                    uploadArea.style.backgroundPosition = 'center';
                    uploadArea.innerHTML = '';
                };
                reader.readAsDataURL(e.target.files[0]);
            }
        });
    });

    // 提交实名认证
    document.querySelector('.submit-verify-btn').addEventListener('click', async () => {
        const realName = document.getElementById('realName').value;
        const idNumber = document.getElementById('idNumber').value;
        
        if (!realName || !idNumber) {
            alert('请填写完整信息');
            return;
        }
        
        try {
            await submitVerification({
                realName,
                idNumber,
                // 添加身份证照片数据
            });
            
            alert('提交成功，请等待审核');
            document.getElementById('verifyModal').style.display = 'none';
            updateVerifyStatus(true);
        } catch (error) {
            alert('提交失败，请稍后重试');
        }
    });

    // 更换手机号相关功能
    document.querySelector('.change-phone-btn').addEventListener('click', () => {
        document.getElementById('changePhoneModal').style.display = 'block';
    });

    document.querySelector('.close-change-phone').addEventListener('click', () => {
        document.getElementById('changePhoneModal').style.display = 'none';
    });

    // 发送手机验证码
    let phoneCountdown = 60;
    document.getElementById('sendPhoneCode').addEventListener('click', async () => {
        const phone = document.getElementById('newPhone').value;
        if (!/^1[3-9]\d{9}$/.test(phone)) {
            alert('请输入正确的手机号');
            return;
        }
        
        const btn = document.getElementById('sendPhoneCode');
        btn.disabled = true;
        
        try {
            await sendPhoneVerificationCode(phone);
            
            let timer = setInterval(() => {
                btn.textContent = `${phoneCountdown}秒后重试`;
                phoneCountdown--;
                if (phoneCountdown < 0) {
                    clearInterval(timer);
                    btn.disabled = false;
                    btn.textContent = '发送验证码';
                    phoneCountdown = 60;
                }
            }, 1000);
        } catch (error) {
            alert('发送失败，请稍后重试');
            btn.disabled = false;
        }
    });

    // 提交更换手机号
    document.querySelector('.submit-phone-btn').addEventListener('click', async () => {
        const phone = document.getElementById('newPhone').value;
        const code = document.getElementById('phoneVerifyCode').value;
        
        if (!phone || !code) {
            alert('请填写完整信息');
            return;
        }
        
        try {
            await changePhoneNumber(phone, code);
            alert('手机号更换成功');
            document.getElementById('changePhoneModal').style.display = 'none';
            document.getElementById('phoneNumber').value = phone;
        } catch (error) {
            alert('更换失败，请稍后重试');
        }
    });

    // 更新认证状态显示
    function updateVerifyStatus(verified) {
        const status = document.getElementById('verifyStatus');
        const btn = document.getElementById('verifyBtn');
        
        if (verified) {
            status.textContent = '已认证';
            status.style.color = '#10b981';
            btn.style.display = 'none';
        } else {
            status.textContent = '未认证';
            status.style.color = '#666';
            btn.style.display = 'block';
        }
    }

    // 模拟API调用
    async function submitVerification(data) {
        return new Promise((resolve) => {
            setTimeout(() => {
                console.log('提交的认证数据:', data);
                resolve();
            }, 1000);
        });
    }

    async function sendPhoneVerificationCode(phone) {
        return new Promise((resolve) => {
            setTimeout(() => {
                console.log('发送验证码到:', phone);
                resolve();
            }, 1000);
        });
    }

    async function changePhoneNumber(phone, code) {
        return new Promise((resolve) => {
            setTimeout(() => {
                console.log('更换手机号:', phone, code);
                resolve();
            }, 1000);
        });
    }
    </script>

    <!-- 在 body 标签内添加个人资料模态框 -->
    <div class="profile-modal" id="profileModal">
        <div class="profile-content">
            <span class="close-profile">&times;</span>
            <h3>个人资料</h3>
            <div class="profile-form">
                <div class="avatar-section">
                    <div class="avatar-container">
                        <img id="userAvatar" src="default-avatar.png" alt="用户头像">
                        <div class="avatar-overlay">
                            <label for="avatarUpload" class="upload-btn">
                                <i class="fas fa-camera"></i>
                                更换头像
                            </label>
                            <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
                        </div>
                    </div>
                </div>

                <div class="profile-info">
                    <div class="form-group">
                        <label>用户名</label>
                        <input type="text" id="profileUsername" placeholder="设置用户名">
                    </div>

                    <div class="form-group">
                        <label>性别</label>
                        <div class="gender-options">
                            <label class="radio-label">
                                <input type="radio" name="gender" value="male"> 男
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="female"> 女
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="private"> 不公开
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>地区</label>
                        <div class="region-select">
                            <select id="province">
                                <option value="">选择省份</option>
                            </select>
                            <select id="city">
                                <option value="">选择城市</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>生日</label>
                        <input type="date" id="birthday">
                    </div>

                    <div class="form-group">
                        <label>个性签名</label>
                        <textarea id="bio" placeholder="写点什么介绍自己..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>手机号码</label>
                        <div class="phone-section">
                            <input type="text" id="phoneNumber" disabled>
                            <button class="change-phone-btn">更换手机号</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>实名认证</label>
                        <div class="verify-section">
                            <span class="verify-status" id="verifyStatus">未认证</span>
                            <button class="verify-btn" id="verifyBtn">去认证</button>
                        </div>
                    </div>
                </div>

                <div class="profile-actions">
                    <button class="save-profile-btn">保存修改</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 在 style 标签内添加样式 -->
    <style>
    /* 个人资料模态框样式 */
    .profile-modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
        overflow-y: auto;
    }

    .profile-content {
        background: white;
        margin: 5% auto;
        padding: 2rem;
        width: 90%;
        max-width: 600px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        position: relative;
    }

    .close-profile {
        position: absolute;
        right: 1rem;
        top: 1rem;
        font-size: 1.5rem;
        cursor: pointer;
        color: #666;
    }

    .avatar-section {
        text-align: center;
        margin-bottom: 2rem;
    }

    .avatar-container {
        position: relative;
        width: 120px;
        height: 120px;
        margin: 0 auto;
        border-radius: 50%;
        overflow: hidden;
    }

    .avatar-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .avatar-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(0,0,0,0.6);
        padding: 8px 0;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .avatar-container:hover .avatar-overlay {
        opacity: 1;
    }

    .upload-btn {
        color: white;
        cursor: pointer;
        font-size: 0.9rem;
    }

    .profile-info {
        max-width: 500px;
        margin: 0 auto;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: #333;
        font-weight: 500;
    }

    .form-group input[type="text"],
    .form-group input[type="date"],
    .form-group textarea,
    .form-group select {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 1rem;
    }

    .gender-options {
        display: flex;
        gap: 2rem;
    }

    .radio-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
    }

    .region-select {
        display: flex;
        gap: 1rem;
    }

    .region-select select {
        flex: 1;
    }

    textarea#bio {
        height: 100px;
        resize: vertical;
    }

    .save-profile-btn {
        width: 100%;
        padding: 1rem;
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        cursor: pointer;
        margin-top: 2rem;
        transition: all 0.3s ease;
    }

    .save-profile-btn:hover {
        background: #1d4ed8;
    }

    /* 响应式适配 */
    @media screen and (max-width: 768px) {
        .profile-content {
            margin: 0;
            width: 100%;
            height: 100%;
            border-radius: 0;
            overflow-y: auto;
        }
        
        .gender-options {
            flex-direction: column;
            gap: 1rem;
        }
        
        .region-select {
            flex-direction: column;
        }
    }
    </style>

    <!-- 更新 handleMenuItemClick 函数 -->
    <script>
    function handleMenuItemClick(href) {
        switch (href) {
            case '/personal-info':
                showProfileModal();
                break;
            case '/order-details':
                showOrdersModal();
                break;
            case '/change-password':
                showChangePasswordModal();  // 调用显示修改密码模态框的函数
                break;
            default:
                console.log('未知页面');
        }
    }

    // 显示个人资料模态框
    function showProfileModal() {
        const profileModal = document.getElementById('profileModal');
        profileModal.style.display = 'block';
        loadUserProfile(); // 加载用户资料
    }

    // 关闭个人资料模态框
    document.querySelector('.close-profile').addEventListener('click', () => {
        document.getElementById('profileModal').style.display = 'none';
    });

    // 点击外部关闭模态框
    window.addEventListener('click', (e) => {
        const profileModal = document.getElementById('profileModal');
        if (e.target === profileModal) {
            profileModal.style.display = 'none';
        }
    });

    // 头像上传处理
    document.getElementById('avatarUpload').addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                document.getElementById('userAvatar').src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });

    // 加载用户资料
    async function loadUserProfile() {
        try {
            // 这里应该是实际的API调用
            const profile = {
                username: '测试用户',
                gender: 'private',
                province: '北京市',
                city: '北京市',
                birthday: '1990-01-01',
                bio: '这是一个测试签名',
                phone: '138****8888',
                avatar: 'default-avatar.png'
            };
            
            // 填充表单数据
            document.getElementById('profileUsername').value = profile.username;
            document.querySelector(`input[name="gender"][value="${profile.gender}"]`).checked = true;
            document.getElementById('birthday').value = profile.birthday;
            document.getElementById('bio').value = profile.bio;
            document.getElementById('phoneNumber').value = profile.phone;
            document.getElementById('userAvatar').src = profile.avatar;
            
            // 加载省市数据
            await loadProvinceCity(profile.province, profile.city);
        } catch (error) {
            console.error('加载用户资料失败:', error);
        }
    }

    // 保存用户资料
    document.querySelector('.save-profile-btn').addEventListener('click', async () => {
        const formData = {
            username: document.getElementById('profileUsername').value,
            gender: document.querySelector('input[name="gender"]:checked')?.value,
            province: document.getElementById('province').value,
            city: document.getElementById('city').value,
            birthday: document.getElementById('birthday').value,
            bio: document.getElementById('bio').value,
        };
        
        try {
            // 这里应该是实际的API调用
            await new Promise(resolve => setTimeout(resolve, 1000));
            alert('保存成功！');
            document.getElementById('profileModal').style.display = 'none';
        } catch (error) {
            alert('保存失败，请稍后重试');
        }
    });

    // 加载省市数据
    async function loadProvinceCity(defaultProvince, defaultCity) {
        // 这里应该是实际的API调用获取省市数据
        const provinces = ['北京市', '上海市', '广东省'];
        const cities = {
            '北京市': ['北京市'],
            '上海市': ['上海市'],
            '广东省': ['广州市', '深圳市', '珠海市']
        };
        
        const provinceSelect = document.getElementById('province');
        const citySelect = document.getElementById('city');
        
        // 填充省份
        provinceSelect.innerHTML = '<option value="">选择省份</option>' + 
            provinces.map(p => `<option value="${p}" ${p === defaultProvince ? 'selected' : ''}>${p}</option>`).join('');
        
        // 省份改变时更新城市
        provinceSelect.addEventListener('change', () => {
            const selectedProvince = provinceSelect.value;
            citySelect.innerHTML = '<option value="">选择城市</option>' + 
                (cities[selectedProvince] || []).map(c => `<option value="${c}">${c}</option>`).join('');
        });
        
        // 设置默认城市
        if (defaultProvince && defaultCity) {
            citySelect.innerHTML = '<option value="">选择城市</option>' + 
                (cities[defaultProvince] || []).map(c => `<option value="${c}" ${c === defaultCity ? 'selected' : ''}>${c}</option>`).join('');
        }
    }
    </script>

    <!-- 添加订单相关样式 -->
    <style>
        .order-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .order-tab {
            padding: 0.5rem 1rem;
            border: none;
            background: none;
            cursor: pointer;
            color: #666;
            position: relative;
        }

        .order-tab.active {
            color: #2563eb;
            font-weight: 500;
        }

        .order-tab.active::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 0;
            width: 100%;
            height: 2px;
            background: #2563eb;
        }

        .order-tab:hover {
            color: #2563eb;
        }
    </style>

    <!-- 更新 handleMenuItemClick 函数 -->
    <script>
    function handleMenuItemClick(href) {
        switch (href) {
            case '/personal-info':
                showProfileModal();
                break;
            case '/order-details':
                showOrdersModal();
                break;
            case '/change-password':
                showChangePasswordModal();  // 调用显示修改密码模态框的函数
                break;
            default:
                console.log('未知页面');
        }
    }

    // 显示订单模态框
    function showOrdersModal() {
        const ordersModal = document.getElementById('ordersModal');
        ordersModal.style.display = 'block';
        loadOrders('all'); // 默认加载全部订单
    }

    // 关闭订单模态框
    document.querySelector('.close-orders').addEventListener('click', () => {
        document.getElementById('ordersModal').style.display = 'none';
    });

    // 订单标签切换
    document.querySelectorAll('.order-tab').forEach(tab => {
        tab.addEventListener('click', (e) => {
            // 更新活动标签样式
            document.querySelectorAll('.order-tab').forEach(t => t.classList.remove('active'));
            e.target.classList.add('active');
            
            // 加载对应状态的订单
            const status = e.target.dataset.status;
            loadOrders(status);
        });
    });

    // 加载订单数据
    async function loadOrders(status) {
        const ordersList = document.getElementById('ordersList');
        ordersList.innerHTML = '<div class="loading">加载中...</div>';
        
        try {
            // 这里应该是实际的API调用
            // 模拟API响应
            const orders = await mockGetOrders(status);
            
            if (orders.length === 0) {
                ordersList.innerHTML = '<div class="empty-orders">暂无订单</div>';
                return;
            }
            
            ordersList.innerHTML = orders.map(order => `
                <div class="order-item">
                    <div class="order-header">
                        <span>订单号：${order.orderNumber}</span>
                        <span class="order-status ${getStatusClass(order.status)}">
                            ${getStatusText(order.status)}
                        </span>
                    </div>
                    <div class="order-products">
                        ${order.products.map(product => `
                            <div class="order-product">
                                <img src="${product.image}" alt="${product.name}" style="width: 60px; height: 60px; object-fit: cover;">
                                <div class="product-info">
                                    <div class="product-name">${product.name}</div>
                                    <div class="product-price">¥${product.price.toFixed(2)} × ${product.quantity}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="order-footer">
                        <div class="order-total">
                            共${order.products.length}件商品 合计：¥${order.total.toFixed(2)}
                        </div>
                        <div class="order-actions">
                            ${getOrderActions(order.status)}
                        </div>
                    </div>
                </div>
            `).join('');
            
        } catch (error) {
            ordersList.innerHTML = '<div class="error">加载失败，请稍后重试</div>';
        }
    }

    // 获取订单状态样式类
    function getStatusClass(status) {
        const statusClasses = {
            pending: 'status-pending',
            paid: 'status-paid',
            shipped: 'status-shipped',
            delivered: 'status-delivered',
            review: 'status-review'
        };
        return statusClasses[status] || '';
    }

    // 获取订单状态文本
    function getStatusText(status) {
        const statusTexts = {
            pending: '待付款',
            paid: '待发货',
            shipped: '待收货',
            delivered: '已完成',
            review: '待评价'
        };
        return statusTexts[status] || status;
    }

    // 获取订单操作按钮
    function getOrderActions(status) {
        switch (status) {
            case 'pending':
                return `
                    <button class="btn-primary" onclick="payOrder()">立即付款</button>
                    <button class="btn-secondary" onclick="cancelOrder()">取消订单</button>
                `;
            case 'shipped':
                return `<button class="btn-primary" onclick="confirmReceive()">确认收货</button>`;
            case 'review':
                return `<button class="btn-primary" onclick="writeReview()">写评价</button>`;
            default:
                return '';
        }
    }

    // 模拟获取订单数据
    function mockGetOrders(status) {
        return new Promise((resolve) => {
            setTimeout(() => {
                const orders = [
                    {
                        orderNumber: 'ORDER2024001',
                        status: 'pending',
                        products: [
                            {
                                name: '商品1',
                                price: 99.00,
                                quantity: 1,
                                image: 'path/to/image1.jpg'
                            }
                        ],
                        total: 99.00
                    },
                    {
                        orderNumber: 'ORDER2024002',
                        status: 'shipped',
                        products: [
                            {
                                name: '商品2',
                                price: 199.00,
                                quantity: 2,
                                image: 'path/to/image2.jpg'
                            }
                        ],
                        total: 398.00
                    }
                ];
                
                if (status === 'all') {
                    resolve(orders);
                } else {
                    resolve(orders.filter(order => order.status === status));
                }
            }, 500);
        });
    }
    </script>

    <!-- 添加订单相关样式 -->
    <style>
        .order-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 1rem;
        }

        .btn-primary {
            background: #2563eb;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            border: none;
            cursor: pointer;
        }

        .btn-secondary {
            background: #fff;
            color: #666;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            border: 1px solid #ddd;
            cursor: pointer;
        }

        .empty-orders {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        .error {
            text-align: center;
            padding: 2rem;
            color: #dc2626;
        }
    </style>

    <!-- 添加修改密码模态框 -->
    <div class="change-password-modal" id="changePasswordModal">
        <div class="change-password-content">
            <span class="close-change-password">&times;</span>
            <h3>修改密码</h3>
            
            <!-- 验证方式选择 -->
            <div class="verify-method-selector">
                <label>验证方式：</label>
                <select id="verifyMethod">
                    <option value="password">原密码验证</option>
                    <option value="email">邮箱验证</option>
                    <option value="phone">手机验证</option>
                </select>
            </div>

            <!-- 不同验证方式的表单 -->
            <div class="verify-forms">
                <!-- 原密码验证表单 -->
                <form id="passwordVerifyForm" class="verify-form active">
                    <div class="form-group">
                        <label>原密码</label>
                        <input type="password" id="oldPassword" placeholder="请输入原密码">
                    </div>
                </form>

                <!-- 邮箱验证表单 -->
                <form id="emailVerifyForm" class="verify-form">
                    <div class="form-group">
                        <label>邮箱验证码</label>
                        <div class="verify-code-section">
                            <input type="text" id="emailVerifyCode" placeholder="请输入验证码">
                            <button type="button" id="sendEmailCode">发送验证码</button>
                        </div>
                    </div>
                </form>

                <!-- 手机验证表单 -->
                <form id="phoneVerifyForm" class="verify-form">
                    <div class="form-group">
                        <label>手机验证码</label>
                        <div class="verify-code-section">
                            <input type="text" id="phoneVerifyCode" placeholder="请输入验证码">
                            <button type="button" id="sendPhoneCode">发送验证码</button>
                        </div>
                    </div>
                </form>

                <!-- 新密码设置 -->
                <div class="form-group">
                    <label>新密码</label>
                    <input type="password" id="newPassword" placeholder="请输入新密码">
                </div>
                <div class="form-group">
                    <label>确认新密码</label>
                    <input type="password" id="confirmNewPassword" placeholder="请再次输入新密码">
                </div>

                <button class="submit-change-pwd-btn">确认修改</button>
            </div>
        </div>
    </div>

    <!-- 添加相关样式 -->
    <style>
    .change-password-modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
    }

    .change-password-content {
        background: white;
        margin: 10% auto;
        padding: 2rem;
        width: 90%;
        max-width: 400px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        position: relative;
    }

    .verify-method-selector {
        margin-bottom: 1.5rem;
    }

    .verify-method-selector select {
        width: 100%;
        padding: 0.5rem;
        margin-top: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 4px;
    }

    .verify-form {
        display: none;
    }

    .verify-form.active {
        display: block;
    }

    .verify-code-section {
        display: flex;
        gap: 0.5rem;
    }

    .verify-code-section input {
        flex: 1;
    }

    .verify-code-section button {
        white-space: nowrap;
        padding: 0.5rem 1rem;
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    .verify-code-section button:disabled {
        background: #94a3b8;
        cursor: not-allowed;
    }

    .submit-change-pwd-btn {
        width: 100%;
        padding: 0.75rem;
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 1rem;
    }

    .submit-change-pwd-btn:hover {
        background: #1d4ed8;
    }
    </style>

    <!-- 添加相关脚本 -->
    <script>
    // 修改密码相关功能
    const changePasswordModal = document.getElementById('changePasswordModal');
    const verifyMethodSelect = document.getElementById('verifyMethod');
    const forms = {
        password: document.getElementById('passwordVerifyForm'),
        email: document.getElementById('emailVerifyForm'),
        phone: document.getElementById('phoneVerifyForm')
    };

    // 显示修改密码模态框
    function showChangePasswordModal() {
        changePasswordModal.style.display = 'block';
    }

    // 关闭修改密码模态框
    document.querySelector('.close-change-password').addEventListener('click', () => {
        changePasswordModal.style.display = 'none';
    });

    // 切换验证方式
    verifyMethodSelect.addEventListener('change', (e) => {
        Object.values(forms).forEach(form => form.classList.remove('active'));
        forms[e.target.value].classList.add('active');
    });

    // 发送邮箱验证码
    let emailCountdown = 60;
    document.getElementById('sendEmailCode').addEventListener('click', async () => {
        const btn = document.getElementById('sendEmailCode');
        btn.disabled = true;
        
        try {
            await sendEmailVerificationCode();
            
            let timer = setInterval(() => {
                btn.textContent = `${emailCountdown}秒后重试`;
                emailCountdown--;
                if (emailCountdown < 0) {
                    clearInterval(timer);
                    btn.disabled = false;
                    btn.textContent = '发送验证码';
                    emailCountdown = 60;
                }
            }, 1000);
        } catch (error) {
            alert('发送失败，请稍后重试');
            btn.disabled = false;
        }
    });

    // 提交修改密码
    document.querySelector('.submit-change-pwd-btn').addEventListener('click', async () => {
        const method = verifyMethodSelect.value;
        const newPassword = document.getElementById('newPassword').value;
        const confirmNewPassword = document.getElementById('confirmNewPassword').value;
        
        // 验证新密码
        if (newPassword.length < 6) {
            alert('新密码长度至少6位');
            return;
        }
        
        if (newPassword !== confirmNewPassword) {
            alert('两次输入的密码不一致');
            return;
        }
        
        // 根据不同验证方式获取验证信息
        let verificationData;
        switch (method) {
            case 'password':
                verificationData = {
                    oldPassword: document.getElementById('oldPassword').value
                };
                break;
            case 'email':
                verificationData = {
                    emailCode: document.getElementById('emailVerifyCode').value
                };
                break;
            case 'phone':
                verificationData = {
                    phoneCode: document.getElementById('phoneVerifyCode').value
                };
                break;
        }
        
        try {
            await changePassword(method, verificationData, newPassword);
            alert('密码修改成功');
            changePasswordModal.style.display = 'none';
        } catch (error) {
            alert('修改失败，请稍后重试');
        }
    });

    // 模拟API调用
    async function sendEmailVerificationCode() {
        return new Promise((resolve) => {
            setTimeout(resolve, 1000);
        });
    }

    async function changePassword(method, verificationData, newPassword) {
        return new Promise((resolve) => {
            setTimeout(() => {
                console.log('修改密码:', {
                    method,
                    verificationData,
                    newPassword
                });
                resolve();
            }, 1000);
        });
    }
    </script>

    <!-- 在支付处理函数中添加 -->
    <script>
    function handlePaymentSuccess() {
        // 清空购物车数据
        cart = [];
        localStorage.setItem('cart', JSON.stringify(cart));
        
        // 更新显示
        updateCart();
        
        // 关闭支付模态框
        document.getElementById('paymentModal').style.display = 'none';
        
        // 显示成功提示
        alert('支付成功！');
    }

    // 添加一个监听支付状态的函数
    function checkPaymentStatus() {
        // 模拟支付过程
        setTimeout(() => {
            handlePaymentSuccess();
        }, 2000);
    }
    </script>
</body>
</html> 